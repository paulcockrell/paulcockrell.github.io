import{E as kn}from"./kaplay-DBPwJhjK.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function v(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(s){if(s.ep)return;s.ep=!0;const f=v(s);fetch(s.href,f)}})();const n=kn({global:!1,touchToMouse:!0,font:"./fonts/monogram",canvas:document.getElementById("game"),crisp:!0,debug:!1});var At={},at={},Gt;function Nn(){if(Gt)return at;Gt=1,Object.defineProperty(at,"__esModule",{value:!0}),at.GridOrientation=void 0;var t;return function(i){i.ORTHOGONAL="orthogonal",i.ISOMETRIC="isometric"}(t||(at.GridOrientation=t={})),at}var Ze={},ot={},qt;function Ht(){if(qt)return ot;qt=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.Encoding=void 0;var t;return function(i){i.CSV="csv",i.BASE64="base64"}(t||(ot.Encoding=t={})),ot}var Xt;function Rn(){if(Xt)return Ze;Xt=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.isGroup=Ze.isImageLayer=Ze.isObjectGroup=Ze.isUnencodedTileLayer=Ze.isEncodedTileLayer=Ze.isTileLayer=void 0;const t=Ht();function i(m){return m.type==="tilelayer"}Ze.isTileLayer=i;function v(m){return m.type==="tilelayer"&&m.encoding!==t.Encoding.CSV}Ze.isEncodedTileLayer=v;function c(m){return m.type==="tilelayer"&&(m.encoding==null||m.encoding===t.Encoding.CSV)}Ze.isUnencodedTileLayer=c;function s(m){return m.type==="objectgroup"}Ze.isObjectGroup=s;function f(m){return m.type==="imagelayer"}Ze.isImageLayer=f;function g(m){return m.type==="group"}return Ze.isGroup=g,Ze}var lt={},Yt;function On(){if(Yt)return lt;Yt=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.Compression=void 0;var t;return function(i){i.NONE="",i.GZIP="gzip",i.ZLIB="zlib",i.ZSTD="zstd"}(t||(lt.Compression=t={})),lt}var st={},ft={},Kt;function Bn(){if(Kt)return ft;Kt=1,ft.byteLength=m,ft.toByteArray=y,ft.fromByteArray=me;for(var t=[],i=[],v=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,f=c.length;s<f;++s)t[s]=c[s],i[c.charCodeAt(s)]=s;i[45]=62,i[95]=63;function g(T){var G=T.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=T.indexOf("=");k===-1&&(k=G);var H=k===G?0:4-k%4;return[k,H]}function m(T){var G=g(T),k=G[0],H=G[1];return(k+H)*3/4-H}function z(T,G,k){return(G+k)*3/4-k}function y(T){var G,k=g(T),H=k[0],de=k[1],J=new v(z(T,H,de)),L=0,w=de>0?H-4:H,A;for(A=0;A<w;A+=4)G=i[T.charCodeAt(A)]<<18|i[T.charCodeAt(A+1)]<<12|i[T.charCodeAt(A+2)]<<6|i[T.charCodeAt(A+3)],J[L++]=G>>16&255,J[L++]=G>>8&255,J[L++]=G&255;return de===2&&(G=i[T.charCodeAt(A)]<<2|i[T.charCodeAt(A+1)]>>4,J[L++]=G&255),de===1&&(G=i[T.charCodeAt(A)]<<10|i[T.charCodeAt(A+1)]<<4|i[T.charCodeAt(A+2)]>>2,J[L++]=G>>8&255,J[L++]=G&255),J}function Y(T){return t[T>>18&63]+t[T>>12&63]+t[T>>6&63]+t[T&63]}function Q(T,G,k){for(var H,de=[],J=G;J<k;J+=3)H=(T[J]<<16&16711680)+(T[J+1]<<8&65280)+(T[J+2]&255),de.push(Y(H));return de.join("")}function me(T){for(var G,k=T.length,H=k%3,de=[],J=16383,L=0,w=k-H;L<w;L+=J)de.push(Q(T,L,L+J>w?w:L+J));return H===1?(G=T[k-1],de.push(t[G>>2]+t[G<<4&63]+"==")):H===2&&(G=(T[k-2]<<8)+T[k-1],de.push(t[G>>10]+t[G>>4&63]+t[G<<2&63]+"=")),de.join("")}return ft}var ct={},$t;function Un(){if($t)return ct;$t=1;var t=ArrayBuffer,i=Uint8Array,v=Uint16Array,c=Int16Array,s=Int32Array,f=function(d,_,E){if(i.prototype.slice)return i.prototype.slice.call(d,_,E);(_==null||_<0)&&(_=0),(E==null||E>d.length)&&(E=d.length);var P=new i(E-_);return P.set(d.subarray(_,E)),P},g=function(d,_,E,P){if(i.prototype.fill)return i.prototype.fill.call(d,_,E,P);for((E==null||E<0)&&(E=0),(P==null||P>d.length)&&(P=d.length);E<P;++E)d[E]=_;return d},m=function(d,_,E,P){if(i.prototype.copyWithin)return i.prototype.copyWithin.call(d,_,E,P);for((E==null||E<0)&&(E=0),(P==null||P>d.length)&&(P=d.length);E<P;)d[_++]=d[E++]};ct.ZstdErrorCode={InvalidData:0,WindowSizeTooLarge:1,InvalidBlockType:2,FSEAccuracyTooHigh:3,DistanceTooFarBack:4,UnexpectedEOF:5};var z=["invalid zstd data","window size too large (>2046MB)","invalid block type","FSE accuracy too high","match distance too far back","unexpected EOF"],y=function(d,_,E){var P=new Error(_||z[d]);if(P.code=d,Error.captureStackTrace&&Error.captureStackTrace(P,y),!E)throw P;return P},Y=function(d,_,E){for(var P=0,M=0;P<E;++P)M|=d[_++]<<(P<<3);return M},Q=function(d,_){return(d[_]|d[_+1]<<8|d[_+2]<<16|d[_+3]<<24)>>>0},me=function(d,_){var E=d[0]|d[1]<<8|d[2]<<16;if(E==3126568&&d[3]==253){var P=d[4],M=P>>5&1,K=P>>2&1,C=P&3,W=P>>6;P&8&&y(0);var te=6-M,we=C==3?4:C,ye=Y(d,te,we);te+=we;var re=W?1<<W:M,se=Y(d,te,re)+(W==1&&256),Ce=se;if(!M){var Pe=1<<10+(d[5]>>3);Ce=Pe+(Pe>>3)*(d[5]&7)}Ce>2145386496&&y(1);var ue=new i((_==1?se||Ce:_?0:Ce)+12);return ue[0]=1,ue[4]=4,ue[8]=8,{b:te+re,y:0,l:0,d:ye,w:_&&_!=1?_:ue.subarray(12),e:Ce,o:new s(ue.buffer,0,3),u:se,c:K,m:Math.min(131072,Ce)}}else if((E>>4|d[3]<<20)==25481893)return Q(d,4)+8;y(0)},T=function(d){for(var _=0;1<<_<=d;++_);return _-1},G=function(d,_,E){var P=(_<<3)+4,M=(d[_]&15)+5;M>E&&y(3);for(var K=1<<M,C=K,W=-1,te=-1,we=-1,ye=K,re=new t(512+(K<<2)),se=new c(re,0,256),Ce=new v(re,0,256),Pe=new v(re,512,K),ue=512+(K<<1),be=new i(re,ue,K),ge=new i(re,ue+K);W<255&&C>0;){var pe=T(C+1),Ee=P>>3,ke=(1<<pe+1)-1,Te=(d[Ee]|d[Ee+1]<<8|d[Ee+2]<<16)>>(P&7)&ke,he=(1<<pe)-1,ze=ke-C-1,Ne=Te&he;if(Ne<ze?(P+=pe,Te=Ne):(P+=pe+1,Te>he&&(Te-=ze)),se[++W]=--Te,Te==-1?(C+=Te,be[--ye]=W):C-=Te,!Te)do{var De=P>>3;te=(d[De]|d[De+1]<<8)>>(P&7)&3,P+=2,W+=te}while(te==3)}(W>255||C)&&y(0);for(var Re=0,Ue=(K>>1)+(K>>3)+3,Le=K-1,Fe=0;Fe<=W;++Fe){var fe=se[Fe];if(fe<1){Ce[Fe]=-fe;continue}for(we=0;we<fe;++we){be[Re]=Fe;do Re=Re+Ue&Le;while(Re>=ye)}}for(Re&&y(0),we=0;we<K;++we){var Z=Ce[be[we]]++,Oe=ge[we]=M-T(Z);Pe[we]=(Z<<Oe)-K}return[P+7>>3,{b:M,s:be,n:ge,t:Pe}]},k=function(d,_){var E=0,P=-1,M=new i(292),K=d[_],C=M.subarray(0,256),W=M.subarray(256,268),te=new v(M.buffer,268);if(K<128){var we=G(d,_+1,6),ye=we[0],re=we[1];_+=K;var se=ye<<3,Ce=d[_];Ce||y(0);for(var Pe=0,ue=0,be=re.b,ge=be,pe=(++_<<3)-8+T(Ce);pe-=be,!(pe<se);){var Ee=pe>>3;if(Pe+=(d[Ee]|d[Ee+1]<<8)>>(pe&7)&(1<<be)-1,C[++P]=re.s[Pe],pe-=ge,pe<se)break;Ee=pe>>3,ue+=(d[Ee]|d[Ee+1]<<8)>>(pe&7)&(1<<ge)-1,C[++P]=re.s[ue],be=re.n[Pe],Pe=re.t[Pe],ge=re.n[ue],ue=re.t[ue]}++P>255&&y(0)}else{for(P=K-127;E<P;E+=2){var ke=d[++_];C[E]=ke>>4,C[E+1]=ke&15}++_}var Te=0;for(E=0;E<P;++E){var he=C[E];he>11&&y(0),Te+=he&&1<<he-1}var ze=T(Te)+1,Ne=1<<ze,De=Ne-Te;for(De&De-1&&y(0),C[P++]=T(De)+1,E=0;E<P;++E){var he=C[E];++W[C[E]=he&&ze+1-he]}var Re=new i(Ne<<1),Ue=Re.subarray(0,Ne),Le=Re.subarray(Ne);for(te[ze]=0,E=ze;E>0;--E){var Fe=te[E];g(Le,E,Fe,te[E-1]=Fe+W[E]*(1<<ze-E))}for(te[0]!=Ne&&y(0),E=0;E<P;++E){var fe=C[E];if(fe){var Z=te[fe];g(Ue,E,Z,te[fe]=Z+(1<<ze-fe))}}return[_,{n:Le,b:ze,s:Ue}]},H=G(new i([81,16,99,140,49,198,24,99,12,33,196,24,99,102,102,134,70,146,4]),0,6)[1],de=G(new i([33,20,196,24,99,140,33,132,16,66,8,33,132,16,66,8,33,68,68,68,68,68,68,68,68,36,9]),0,6)[1],J=G(new i([32,132,16,66,102,70,68,68,68,68,36,73,2]),0,5)[1],L=function(d,_){for(var E=d.length,P=new s(E),M=0;M<E;++M)P[M]=_,_+=1<<d[M];return P},w=new i(new s([0,0,0,0,16843009,50528770,134678020,202050057,269422093]).buffer,0,36),A=L(w,0),I=new i(new s([0,0,0,0,0,0,0,0,16843009,50528770,117769220,185207048,252579084,16]).buffer,0,53),X=L(I,3),ae=function(d,_,E){var P=d.length,M=_.length,K=d[P-1],C=(1<<E.b)-1,W=-E.b;K||y(0);for(var te=0,we=E.b,ye=(P<<3)-8+T(K)-we,re=-1;ye>W&&re<M;){var se=ye>>3,Ce=(d[se]|d[se+1]<<8|d[se+2]<<16)>>(ye&7);te=(te<<we|Ce)&C,_[++re]=E.s[te],ye-=we=E.n[te]}(ye!=W||re+1!=M)&&y(0)},le=function(d,_,E){var P=6,M=_.length,K=M+3>>2,C=K<<1,W=K+C;ae(d.subarray(P,P+=d[0]|d[1]<<8),_.subarray(0,K),E),ae(d.subarray(P,P+=d[2]|d[3]<<8),_.subarray(K,C),E),ae(d.subarray(P,P+=d[4]|d[5]<<8),_.subarray(C,W),E),ae(d.subarray(P),_.subarray(W),E)},ve=function(d,_,E){var P,M=_.b,K=d[M],C=K>>1&3;_.l=K&1;var W=K>>3|d[M+1]<<5|d[M+2]<<13,te=(M+=3)+W;if(C==1)return M>=d.length?void 0:(_.b=M+1,E?(g(E,d[M],_.y,_.y+=W),E):g(new i(W),d[M]));if(!(te>d.length)){if(C==0)return _.b=te,E?(E.set(d.subarray(M,te),_.y),_.y+=W,E):f(d,M,te);if(C==2){var we=d[M],ye=we&3,re=we>>2&3,se=we>>4,Ce=0,Pe=0;ye<2?re&1?se|=d[++M]<<4|(re&2&&d[++M]<<12):se=we>>3:(Pe=re,re<2?(se|=(d[++M]&63)<<4,Ce=d[M]>>6|d[++M]<<2):re==2?(se|=d[++M]<<4|(d[++M]&3)<<12,Ce=d[M]>>2|d[++M]<<6):(se|=d[++M]<<4|(d[++M]&63)<<12,Ce=d[M]>>6|d[++M]<<2|d[++M]<<10)),++M;var ue=E?E.subarray(_.y,_.y+_.m):new i(_.m),be=ue.length-se;if(ye==0)ue.set(d.subarray(M,M+=se),be);else if(ye==1)g(ue,d[M++],be);else{var ge=_.h;if(ye==2){var pe=k(d,M);Ce+=M-(M=pe[0]),_.h=ge=pe[1]}else ge||y(0);(Pe?le:ae)(d.subarray(M,M+=Ce),ue.subarray(be),ge)}var Ee=d[M++];if(Ee){Ee==255?Ee=(d[M++]|d[M++]<<8)+32512:Ee>127&&(Ee=Ee-128<<8|d[M++]);var ke=d[M++];ke&3&&y(0);for(var Te=[de,J,H],he=2;he>-1;--he){var ze=ke>>(he<<1)+2&3;if(ze==1){var Ne=new i([0,0,d[M++]]);Te[he]={s:Ne.subarray(2,3),n:Ne.subarray(0,1),t:new v(Ne.buffer,0,1),b:0}}else ze==2?(P=G(d,M,9-(he&1)),M=P[0],Te[he]=P[1]):ze==3&&(_.t||y(0),Te[he]=_.t[he])}var De=_.t=Te,Re=De[0],Ue=De[1],Le=De[2],Fe=d[te-1];Fe||y(0);var fe=(te<<3)-8+T(Fe)-Le.b,Z=fe>>3,Oe=0,je=(d[Z]|d[Z+1]<<8)>>(fe&7)&(1<<Le.b)-1;Z=(fe-=Ue.b)>>3;var qe=(d[Z]|d[Z+1]<<8)>>(fe&7)&(1<<Ue.b)-1;Z=(fe-=Re.b)>>3;var a=(d[Z]|d[Z+1]<<8)>>(fe&7)&(1<<Re.b)-1;for(++Ee;--Ee;){var F=Le.s[je],O=Le.n[je],U=Re.s[a],V=Re.n[a],ee=Ue.s[qe],l=Ue.n[qe];Z=(fe-=ee)>>3;var b=1<<ee,r=b+((d[Z]|d[Z+1]<<8|d[Z+2]<<16|d[Z+3]<<24)>>>(fe&7)&b-1);Z=(fe-=I[U])>>3;var R=X[U]+((d[Z]|d[Z+1]<<8|d[Z+2]<<16)>>(fe&7)&(1<<I[U])-1);Z=(fe-=w[F])>>3;var ce=A[F]+((d[Z]|d[Z+1]<<8|d[Z+2]<<16)>>(fe&7)&(1<<w[F])-1);if(Z=(fe-=O)>>3,je=Le.t[je]+((d[Z]|d[Z+1]<<8)>>(fe&7)&(1<<O)-1),Z=(fe-=V)>>3,a=Re.t[a]+((d[Z]|d[Z+1]<<8)>>(fe&7)&(1<<V)-1),Z=(fe-=l)>>3,qe=Ue.t[qe]+((d[Z]|d[Z+1]<<8)>>(fe&7)&(1<<l)-1),r>3)_.o[2]=_.o[1],_.o[1]=_.o[0],_.o[0]=r-=3;else{var D=r-(ce!=0);D?(r=D==3?_.o[0]-1:_.o[D],D>1&&(_.o[2]=_.o[1]),_.o[1]=_.o[0],_.o[0]=r):r=_.o[0]}for(var he=0;he<ce;++he)ue[Oe+he]=ue[be+he];Oe+=ce,be+=ce;var _e=Oe-r;if(_e<0){var N=-_e,Ae=_.e+_e;N>R&&(N=R);for(var he=0;he<N;++he)ue[Oe+he]=_.w[Ae+he];Oe+=N,R-=N,_e=0}for(var he=0;he<R;++he)ue[Oe+he]=ue[_e+he];Oe+=R}if(Oe!=be)for(;be<ue.length;)ue[Oe++]=ue[be++];else Oe=ue.length;E?_.y+=Oe:ue=f(ue,0,Oe)}else if(E){if(_.y+=se,be)for(var he=0;he<se;++he)ue[he]=ue[be+he]}else be&&(ue=f(ue,be));return _.b=te,ue}y(2)}},xe=function(d,_){if(d.length==1)return d[0];for(var E=new i(_),P=0,M=0;P<d.length;++P){var K=d[P];E.set(K,M),M+=K.length}return E};function ie(d,_){for(var E=[],P=+!_,M=0,K=0;d.length;){var C=me(d,P||_);if(typeof C=="object"){for(P?(_=null,C.w.length==C.u&&(E.push(_=C.w),K+=C.u)):(E.push(_),C.e=0);!C.l;){var W=ve(d,C,_);W||y(5),_?C.e=C.y:(E.push(W),K+=W.length,m(C.w,0,W.length),C.w.set(W,C.w.length-W.length))}M=C.b+C.c*4}else M=C;d=d.subarray(M)}return xe(E,K)}ct.decompress=ie;var oe=function(){function d(_){this.ondata=_,this.c=[],this.l=0,this.z=0}return d.prototype.push=function(_,E){if(typeof this.s=="number"){var P=Math.min(_.length,this.s);_=_.subarray(P),this.s-=P}var M=_.length,K=M+this.l;if(!this.s){if(E){if(!K){this.ondata(new i(0),!0);return}K<5&&y(5)}else if(K<18){this.c.push(_),this.l=K;return}if(this.l&&(this.c.push(_),_=xe(this.c,K),this.c=[],this.l=0),typeof(this.s=me(_))=="number")return this.push(_,E)}if(typeof this.s!="number"){if(K<(this.z||3)){E&&y(5),this.c.push(_),this.l=K;return}if(this.l&&(this.c.push(_),_=xe(this.c,K),this.c=[],this.l=0),!this.z&&K<(this.z=_[this.s.b]&2?4:3+(_[this.s.b]>>3|_[this.s.b+1]<<5|_[this.s.b+2]<<13))){E&&y(5),this.c.push(_),this.l=K;return}else this.z=0;for(;;){var C=ve(_,this.s);if(C)this.ondata(C,!1),m(this.s.w,0,C.length),this.s.w.set(C,this.s.w.length-C.length);else{E&&y(5);var W=_.subarray(this.s.b);this.s.b=0,this.c.push(W),this.l+=W.length;return}if(this.s.l){var te=_.subarray(this.s.b);this.s=this.s.c*4,this.push(te,E);return}}}else E&&y(5)},d}();return ct.Decompress=oe,ct}var We={},Je={},Ve={},Qe={},Wt;function Hn(){if(Wt)return Qe;Wt=1;const t=4,i=0,v=1,c=2;function s(a){let F=a.length;for(;--F>=0;)a[F]=0}const f=0,g=1,m=2,z=3,y=258,Y=29,Q=256,me=Q+1+Y,T=30,G=19,k=2*me+1,H=15,de=16,J=7,L=256,w=16,A=17,I=18,X=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ae=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),le=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ve=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xe=512,ie=new Array((me+2)*2);s(ie);const oe=new Array(T*2);s(oe);const d=new Array(xe);s(d);const _=new Array(y-z+1);s(_);const E=new Array(Y);s(E);const P=new Array(T);s(P);function M(a,F,O,U,V){this.static_tree=a,this.extra_bits=F,this.extra_base=O,this.elems=U,this.max_length=V,this.has_stree=a&&a.length}let K,C,W;function te(a,F){this.dyn_tree=a,this.max_code=0,this.stat_desc=F}const we=a=>a<256?d[a]:d[256+(a>>>7)],ye=(a,F)=>{a.pending_buf[a.pending++]=F&255,a.pending_buf[a.pending++]=F>>>8&255},re=(a,F,O)=>{a.bi_valid>de-O?(a.bi_buf|=F<<a.bi_valid&65535,ye(a,a.bi_buf),a.bi_buf=F>>de-a.bi_valid,a.bi_valid+=O-de):(a.bi_buf|=F<<a.bi_valid&65535,a.bi_valid+=O)},se=(a,F,O)=>{re(a,O[F*2],O[F*2+1])},Ce=(a,F)=>{let O=0;do O|=a&1,a>>>=1,O<<=1;while(--F>0);return O>>>1},Pe=a=>{a.bi_valid===16?(ye(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},ue=(a,F)=>{const O=F.dyn_tree,U=F.max_code,V=F.stat_desc.static_tree,ee=F.stat_desc.has_stree,l=F.stat_desc.extra_bits,b=F.stat_desc.extra_base,r=F.stat_desc.max_length;let R,ce,D,_e,N,Ae,x=0;for(_e=0;_e<=H;_e++)a.bl_count[_e]=0;for(O[a.heap[a.heap_max]*2+1]=0,R=a.heap_max+1;R<k;R++)ce=a.heap[R],_e=O[O[ce*2+1]*2+1]+1,_e>r&&(_e=r,x++),O[ce*2+1]=_e,!(ce>U)&&(a.bl_count[_e]++,N=0,ce>=b&&(N=l[ce-b]),Ae=O[ce*2],a.opt_len+=Ae*(_e+N),ee&&(a.static_len+=Ae*(V[ce*2+1]+N)));if(x!==0){do{for(_e=r-1;a.bl_count[_e]===0;)_e--;a.bl_count[_e]--,a.bl_count[_e+1]+=2,a.bl_count[r]--,x-=2}while(x>0);for(_e=r;_e!==0;_e--)for(ce=a.bl_count[_e];ce!==0;)D=a.heap[--R],!(D>U)&&(O[D*2+1]!==_e&&(a.opt_len+=(_e-O[D*2+1])*O[D*2],O[D*2+1]=_e),ce--)}},be=(a,F,O)=>{const U=new Array(H+1);let V=0,ee,l;for(ee=1;ee<=H;ee++)V=V+O[ee-1]<<1,U[ee]=V;for(l=0;l<=F;l++){let b=a[l*2+1];b!==0&&(a[l*2]=Ce(U[b]++,b))}},ge=()=>{let a,F,O,U,V;const ee=new Array(H+1);for(O=0,U=0;U<Y-1;U++)for(E[U]=O,a=0;a<1<<X[U];a++)_[O++]=U;for(_[O-1]=U,V=0,U=0;U<16;U++)for(P[U]=V,a=0;a<1<<ae[U];a++)d[V++]=U;for(V>>=7;U<T;U++)for(P[U]=V<<7,a=0;a<1<<ae[U]-7;a++)d[256+V++]=U;for(F=0;F<=H;F++)ee[F]=0;for(a=0;a<=143;)ie[a*2+1]=8,a++,ee[8]++;for(;a<=255;)ie[a*2+1]=9,a++,ee[9]++;for(;a<=279;)ie[a*2+1]=7,a++,ee[7]++;for(;a<=287;)ie[a*2+1]=8,a++,ee[8]++;for(be(ie,me+1,ee),a=0;a<T;a++)oe[a*2+1]=5,oe[a*2]=Ce(a,5);K=new M(ie,X,Q+1,me,H),C=new M(oe,ae,0,T,H),W=new M(new Array(0),le,0,G,J)},pe=a=>{let F;for(F=0;F<me;F++)a.dyn_ltree[F*2]=0;for(F=0;F<T;F++)a.dyn_dtree[F*2]=0;for(F=0;F<G;F++)a.bl_tree[F*2]=0;a.dyn_ltree[L*2]=1,a.opt_len=a.static_len=0,a.sym_next=a.matches=0},Ee=a=>{a.bi_valid>8?ye(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},ke=(a,F,O,U)=>{const V=F*2,ee=O*2;return a[V]<a[ee]||a[V]===a[ee]&&U[F]<=U[O]},Te=(a,F,O)=>{const U=a.heap[O];let V=O<<1;for(;V<=a.heap_len&&(V<a.heap_len&&ke(F,a.heap[V+1],a.heap[V],a.depth)&&V++,!ke(F,U,a.heap[V],a.depth));)a.heap[O]=a.heap[V],O=V,V<<=1;a.heap[O]=U},he=(a,F,O)=>{let U,V,ee=0,l,b;if(a.sym_next!==0)do U=a.pending_buf[a.sym_buf+ee++]&255,U+=(a.pending_buf[a.sym_buf+ee++]&255)<<8,V=a.pending_buf[a.sym_buf+ee++],U===0?se(a,V,F):(l=_[V],se(a,l+Q+1,F),b=X[l],b!==0&&(V-=E[l],re(a,V,b)),U--,l=we(U),se(a,l,O),b=ae[l],b!==0&&(U-=P[l],re(a,U,b)));while(ee<a.sym_next);se(a,L,F)},ze=(a,F)=>{const O=F.dyn_tree,U=F.stat_desc.static_tree,V=F.stat_desc.has_stree,ee=F.stat_desc.elems;let l,b,r=-1,R;for(a.heap_len=0,a.heap_max=k,l=0;l<ee;l++)O[l*2]!==0?(a.heap[++a.heap_len]=r=l,a.depth[l]=0):O[l*2+1]=0;for(;a.heap_len<2;)R=a.heap[++a.heap_len]=r<2?++r:0,O[R*2]=1,a.depth[R]=0,a.opt_len--,V&&(a.static_len-=U[R*2+1]);for(F.max_code=r,l=a.heap_len>>1;l>=1;l--)Te(a,O,l);R=ee;do l=a.heap[1],a.heap[1]=a.heap[a.heap_len--],Te(a,O,1),b=a.heap[1],a.heap[--a.heap_max]=l,a.heap[--a.heap_max]=b,O[R*2]=O[l*2]+O[b*2],a.depth[R]=(a.depth[l]>=a.depth[b]?a.depth[l]:a.depth[b])+1,O[l*2+1]=O[b*2+1]=R,a.heap[1]=R++,Te(a,O,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],ue(a,F),be(O,r,a.bl_count)},Ne=(a,F,O)=>{let U,V=-1,ee,l=F[0*2+1],b=0,r=7,R=4;for(l===0&&(r=138,R=3),F[(O+1)*2+1]=65535,U=0;U<=O;U++)ee=l,l=F[(U+1)*2+1],!(++b<r&&ee===l)&&(b<R?a.bl_tree[ee*2]+=b:ee!==0?(ee!==V&&a.bl_tree[ee*2]++,a.bl_tree[w*2]++):b<=10?a.bl_tree[A*2]++:a.bl_tree[I*2]++,b=0,V=ee,l===0?(r=138,R=3):ee===l?(r=6,R=3):(r=7,R=4))},De=(a,F,O)=>{let U,V=-1,ee,l=F[0*2+1],b=0,r=7,R=4;for(l===0&&(r=138,R=3),U=0;U<=O;U++)if(ee=l,l=F[(U+1)*2+1],!(++b<r&&ee===l)){if(b<R)do se(a,ee,a.bl_tree);while(--b!==0);else ee!==0?(ee!==V&&(se(a,ee,a.bl_tree),b--),se(a,w,a.bl_tree),re(a,b-3,2)):b<=10?(se(a,A,a.bl_tree),re(a,b-3,3)):(se(a,I,a.bl_tree),re(a,b-11,7));b=0,V=ee,l===0?(r=138,R=3):ee===l?(r=6,R=3):(r=7,R=4)}},Re=a=>{let F;for(Ne(a,a.dyn_ltree,a.l_desc.max_code),Ne(a,a.dyn_dtree,a.d_desc.max_code),ze(a,a.bl_desc),F=G-1;F>=3&&a.bl_tree[ve[F]*2+1]===0;F--);return a.opt_len+=3*(F+1)+5+5+4,F},Ue=(a,F,O,U)=>{let V;for(re(a,F-257,5),re(a,O-1,5),re(a,U-4,4),V=0;V<U;V++)re(a,a.bl_tree[ve[V]*2+1],3);De(a,a.dyn_ltree,F-1),De(a,a.dyn_dtree,O-1)},Le=a=>{let F=4093624447,O;for(O=0;O<=31;O++,F>>>=1)if(F&1&&a.dyn_ltree[O*2]!==0)return i;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return v;for(O=32;O<Q;O++)if(a.dyn_ltree[O*2]!==0)return v;return i};let Fe=!1;const fe=a=>{Fe||(ge(),Fe=!0),a.l_desc=new te(a.dyn_ltree,K),a.d_desc=new te(a.dyn_dtree,C),a.bl_desc=new te(a.bl_tree,W),a.bi_buf=0,a.bi_valid=0,pe(a)},Z=(a,F,O,U)=>{re(a,(f<<1)+(U?1:0),3),Ee(a),ye(a,O),ye(a,~O),O&&a.pending_buf.set(a.window.subarray(F,F+O),a.pending),a.pending+=O},Oe=a=>{re(a,g<<1,3),se(a,L,ie),Pe(a)},je=(a,F,O,U)=>{let V,ee,l=0;a.level>0?(a.strm.data_type===c&&(a.strm.data_type=Le(a)),ze(a,a.l_desc),ze(a,a.d_desc),l=Re(a),V=a.opt_len+3+7>>>3,ee=a.static_len+3+7>>>3,ee<=V&&(V=ee)):V=ee=O+5,O+4<=V&&F!==-1?Z(a,F,O,U):a.strategy===t||ee===V?(re(a,(g<<1)+(U?1:0),3),he(a,ie,oe)):(re(a,(m<<1)+(U?1:0),3),Ue(a,a.l_desc.max_code+1,a.d_desc.max_code+1,l+1),he(a,a.dyn_ltree,a.dyn_dtree)),pe(a),U&&Ee(a)},qe=(a,F,O)=>(a.pending_buf[a.sym_buf+a.sym_next++]=F,a.pending_buf[a.sym_buf+a.sym_next++]=F>>8,a.pending_buf[a.sym_buf+a.sym_next++]=O,F===0?a.dyn_ltree[O*2]++:(a.matches++,F--,a.dyn_ltree[(_[O]+Q+1)*2]++,a.dyn_dtree[we(F)*2]++),a.sym_next===a.sym_end);return Qe._tr_init=fe,Qe._tr_stored_block=Z,Qe._tr_flush_block=je,Qe._tr_tally=qe,Qe._tr_align=Oe,Qe}var Rt,Vt;function Mn(){return Vt||(Vt=1,Rt=(i,v,c,s)=>{let f=i&65535|0,g=i>>>16&65535|0,m=0;for(;c!==0;){m=c>2e3?2e3:c,c-=m;do f=f+v[s++]|0,g=g+f|0;while(--m);f%=65521,g%=65521}return f|g<<16|0}),Rt}var Ot,Jt;function Pn(){if(Jt)return Ot;Jt=1;const t=()=>{let c,s=[];for(var f=0;f<256;f++){c=f;for(var g=0;g<8;g++)c=c&1?3988292384^c>>>1:c>>>1;s[f]=c}return s},i=new Uint32Array(t());return Ot=(c,s,f,g)=>{const m=i,z=g+f;c^=-1;for(let y=g;y<z;y++)c=c>>>8^m[(c^s[y])&255];return c^-1},Ot}var Mt,Qt;function Zt(){return Qt||(Qt=1,Mt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Mt}var Pt,en;function nt(){return en||(en=1,Pt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Pt}var tn;function Zn(){if(tn)return Ve;tn=1;const{_tr_init:t,_tr_stored_block:i,_tr_flush_block:v,_tr_tally:c,_tr_align:s}=Hn(),f=Mn(),g=Pn(),m=Zt(),{Z_NO_FLUSH:z,Z_PARTIAL_FLUSH:y,Z_FULL_FLUSH:Y,Z_FINISH:Q,Z_BLOCK:me,Z_OK:T,Z_STREAM_END:G,Z_STREAM_ERROR:k,Z_DATA_ERROR:H,Z_BUF_ERROR:de,Z_DEFAULT_COMPRESSION:J,Z_FILTERED:L,Z_HUFFMAN_ONLY:w,Z_RLE:A,Z_FIXED:I,Z_DEFAULT_STRATEGY:X,Z_UNKNOWN:ae,Z_DEFLATED:le}=nt(),ve=9,xe=15,ie=8,_=256+1+29,E=30,P=19,M=2*_+1,K=15,C=3,W=258,te=W+C+1,we=32,ye=42,re=57,se=69,Ce=73,Pe=91,ue=103,be=113,ge=666,pe=1,Ee=2,ke=3,Te=4,he=3,ze=(e,p)=>(e.msg=m[p],p),Ne=e=>e*2-(e>4?9:0),De=e=>{let p=e.length;for(;--p>=0;)e[p]=0},Re=e=>{let p,o,u,h=e.w_size;p=e.hash_size,u=p;do o=e.head[--u],e.head[u]=o>=h?o-h:0;while(--p);p=h,u=p;do o=e.prev[--u],e.prev[u]=o>=h?o-h:0;while(--p)};let Le=(e,p,o)=>(p<<e.hash_shift^o)&e.hash_mask;const Fe=e=>{const p=e.state;let o=p.pending;o>e.avail_out&&(o=e.avail_out),o!==0&&(e.output.set(p.pending_buf.subarray(p.pending_out,p.pending_out+o),e.next_out),e.next_out+=o,p.pending_out+=o,e.total_out+=o,e.avail_out-=o,p.pending-=o,p.pending===0&&(p.pending_out=0))},fe=(e,p)=>{v(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,p),e.block_start=e.strstart,Fe(e.strm)},Z=(e,p)=>{e.pending_buf[e.pending++]=p},Oe=(e,p)=>{e.pending_buf[e.pending++]=p>>>8&255,e.pending_buf[e.pending++]=p&255},je=(e,p,o,u)=>{let h=e.avail_in;return h>u&&(h=u),h===0?0:(e.avail_in-=h,p.set(e.input.subarray(e.next_in,e.next_in+h),o),e.state.wrap===1?e.adler=f(e.adler,p,h,o):e.state.wrap===2&&(e.adler=g(e.adler,p,h,o)),e.next_in+=h,e.total_in+=h,h)},qe=(e,p)=>{let o=e.max_chain_length,u=e.strstart,h,B,ne=e.prev_length,q=e.nice_match;const He=e.strstart>e.w_size-te?e.strstart-(e.w_size-te):0,Se=e.window,Ie=e.w_mask,Ge=e.prev,Be=e.strstart+W;let Ye=Se[u+ne-1],Xe=Se[u+ne];e.prev_length>=e.good_match&&(o>>=2),q>e.lookahead&&(q=e.lookahead);do if(h=p,!(Se[h+ne]!==Xe||Se[h+ne-1]!==Ye||Se[h]!==Se[u]||Se[++h]!==Se[u+1])){u+=2,h++;do;while(Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&Se[++u]===Se[++h]&&u<Be);if(B=W-(Be-u),u=Be-W,B>ne){if(e.match_start=p,ne=B,B>=q)break;Ye=Se[u+ne-1],Xe=Se[u+ne]}}while((p=Ge[p&Ie])>He&&--o!==0);return ne<=e.lookahead?ne:e.lookahead},a=e=>{const p=e.w_size;let o,u,h;do{if(u=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-te)&&(e.window.set(e.window.subarray(p,p+p-u),0),e.match_start-=p,e.strstart-=p,e.block_start-=p,e.insert>e.strstart&&(e.insert=e.strstart),Re(e),u+=p),e.strm.avail_in===0)break;if(o=je(e.strm,e.window,e.strstart+e.lookahead,u),e.lookahead+=o,e.lookahead+e.insert>=C)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=Le(e,e.ins_h,e.window[h+1]);e.insert&&(e.ins_h=Le(e,e.ins_h,e.window[h+C-1]),e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<te&&e.strm.avail_in!==0)},F=(e,p)=>{let o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,u,h,B,ne=0,q=e.strm.avail_in;do{if(u=65535,B=e.bi_valid+42>>3,e.strm.avail_out<B||(B=e.strm.avail_out-B,h=e.strstart-e.block_start,u>h+e.strm.avail_in&&(u=h+e.strm.avail_in),u>B&&(u=B),u<o&&(u===0&&p!==Q||p===z||u!==h+e.strm.avail_in)))break;ne=p===Q&&u===h+e.strm.avail_in?1:0,i(e,0,0,ne),e.pending_buf[e.pending-4]=u,e.pending_buf[e.pending-3]=u>>8,e.pending_buf[e.pending-2]=~u,e.pending_buf[e.pending-1]=~u>>8,Fe(e.strm),h&&(h>u&&(h=u),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+h),e.strm.next_out),e.strm.next_out+=h,e.strm.avail_out-=h,e.strm.total_out+=h,e.block_start+=h,u-=h),u&&(je(e.strm,e.strm.output,e.strm.next_out,u),e.strm.next_out+=u,e.strm.avail_out-=u,e.strm.total_out+=u)}while(ne===0);return q-=e.strm.avail_in,q&&(q>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=q&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-q,e.strm.next_in),e.strstart),e.strstart+=q,e.insert+=q>e.w_size-e.insert?e.w_size-e.insert:q),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),ne?Te:p!==z&&p!==Q&&e.strm.avail_in===0&&e.strstart===e.block_start?Ee:(B=e.window_size-e.strstart,e.strm.avail_in>B&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,B+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),B>e.strm.avail_in&&(B=e.strm.avail_in),B&&(je(e.strm,e.window,e.strstart,B),e.strstart+=B,e.insert+=B>e.w_size-e.insert?e.w_size-e.insert:B),e.high_water<e.strstart&&(e.high_water=e.strstart),B=e.bi_valid+42>>3,B=e.pending_buf_size-B>65535?65535:e.pending_buf_size-B,o=B>e.w_size?e.w_size:B,h=e.strstart-e.block_start,(h>=o||(h||p===Q)&&p!==z&&e.strm.avail_in===0&&h<=B)&&(u=h>B?B:h,ne=p===Q&&e.strm.avail_in===0&&u===h?1:0,i(e,e.block_start,u,ne),e.block_start+=u,Fe(e.strm)),ne?ke:pe)},O=(e,p)=>{let o,u;for(;;){if(e.lookahead<te){if(a(e),e.lookahead<te&&p===z)return pe;if(e.lookahead===0)break}if(o=0,e.lookahead>=C&&(e.ins_h=Le(e,e.ins_h,e.window[e.strstart+C-1]),o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),o!==0&&e.strstart-o<=e.w_size-te&&(e.match_length=qe(e,o)),e.match_length>=C)if(u=c(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){e.match_length--;do e.strstart++,e.ins_h=Le(e,e.ins_h,e.window[e.strstart+C-1]),o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Le(e,e.ins_h,e.window[e.strstart+1]);else u=c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(u&&(fe(e,!1),e.strm.avail_out===0))return pe}return e.insert=e.strstart<C-1?e.strstart:C-1,p===Q?(fe(e,!0),e.strm.avail_out===0?ke:Te):e.sym_next&&(fe(e,!1),e.strm.avail_out===0)?pe:Ee},U=(e,p)=>{let o,u,h;for(;;){if(e.lookahead<te){if(a(e),e.lookahead<te&&p===z)return pe;if(e.lookahead===0)break}if(o=0,e.lookahead>=C&&(e.ins_h=Le(e,e.ins_h,e.window[e.strstart+C-1]),o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,o!==0&&e.prev_length<e.max_lazy_match&&e.strstart-o<=e.w_size-te&&(e.match_length=qe(e,o),e.match_length<=5&&(e.strategy===L||e.match_length===C&&e.strstart-e.match_start>4096)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){h=e.strstart+e.lookahead-C,u=c(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=h&&(e.ins_h=Le(e,e.ins_h,e.window[e.strstart+C-1]),o=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=C-1,e.strstart++,u&&(fe(e,!1),e.strm.avail_out===0))return pe}else if(e.match_available){if(u=c(e,0,e.window[e.strstart-1]),u&&fe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return pe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(u=c(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<C-1?e.strstart:C-1,p===Q?(fe(e,!0),e.strm.avail_out===0?ke:Te):e.sym_next&&(fe(e,!1),e.strm.avail_out===0)?pe:Ee},V=(e,p)=>{let o,u,h,B;const ne=e.window;for(;;){if(e.lookahead<=W){if(a(e),e.lookahead<=W&&p===z)return pe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=C&&e.strstart>0&&(h=e.strstart-1,u=ne[h],u===ne[++h]&&u===ne[++h]&&u===ne[++h])){B=e.strstart+W;do;while(u===ne[++h]&&u===ne[++h]&&u===ne[++h]&&u===ne[++h]&&u===ne[++h]&&u===ne[++h]&&u===ne[++h]&&u===ne[++h]&&h<B);e.match_length=W-(B-h),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(o=c(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(o=c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),o&&(fe(e,!1),e.strm.avail_out===0))return pe}return e.insert=0,p===Q?(fe(e,!0),e.strm.avail_out===0?ke:Te):e.sym_next&&(fe(e,!1),e.strm.avail_out===0)?pe:Ee},ee=(e,p)=>{let o;for(;;){if(e.lookahead===0&&(a(e),e.lookahead===0)){if(p===z)return pe;break}if(e.match_length=0,o=c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,o&&(fe(e,!1),e.strm.avail_out===0))return pe}return e.insert=0,p===Q?(fe(e,!0),e.strm.avail_out===0?ke:Te):e.sym_next&&(fe(e,!1),e.strm.avail_out===0)?pe:Ee};function l(e,p,o,u,h){this.good_length=e,this.max_lazy=p,this.nice_length=o,this.max_chain=u,this.func=h}const b=[new l(0,0,0,0,F),new l(4,4,8,4,O),new l(4,5,16,8,O),new l(4,6,32,32,O),new l(4,4,16,16,U),new l(8,16,32,32,U),new l(8,16,128,128,U),new l(8,32,128,256,U),new l(32,128,258,1024,U),new l(32,258,258,4096,U)],r=e=>{e.window_size=2*e.w_size,De(e.head),e.max_lazy_match=b[e.level].max_lazy,e.good_match=b[e.level].good_length,e.nice_match=b[e.level].nice_length,e.max_chain_length=b[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0};function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=le,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(M*2),this.dyn_dtree=new Uint16Array((2*E+1)*2),this.bl_tree=new Uint16Array((2*P+1)*2),De(this.dyn_ltree),De(this.dyn_dtree),De(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(K+1),this.heap=new Uint16Array(2*_+1),De(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_+1),De(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ce=e=>{if(!e)return 1;const p=e.state;return!p||p.strm!==e||p.status!==ye&&p.status!==re&&p.status!==se&&p.status!==Ce&&p.status!==Pe&&p.status!==ue&&p.status!==be&&p.status!==ge?1:0},D=e=>{if(ce(e))return ze(e,k);e.total_in=e.total_out=0,e.data_type=ae;const p=e.state;return p.pending=0,p.pending_out=0,p.wrap<0&&(p.wrap=-p.wrap),p.status=p.wrap===2?re:p.wrap?ye:be,e.adler=p.wrap===2?0:1,p.last_flush=-2,t(p),T},_e=e=>{const p=D(e);return p===T&&r(e.state),p},N=(e,p)=>ce(e)||e.state.wrap!==2?k:(e.state.gzhead=p,T),Ae=(e,p,o,u,h,B)=>{if(!e)return k;let ne=1;if(p===J&&(p=6),u<0?(ne=0,u=-u):u>15&&(ne=2,u-=16),h<1||h>ve||o!==le||u<8||u>15||p<0||p>9||B<0||B>I||u===8&&ne!==1)return ze(e,k);u===8&&(u=9);const q=new R;return e.state=q,q.strm=e,q.status=ye,q.wrap=ne,q.gzhead=null,q.w_bits=u,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=h+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+C-1)/C),q.window=new Uint8Array(q.w_size*2),q.head=new Uint16Array(q.hash_size),q.prev=new Uint16Array(q.w_size),q.lit_bufsize=1<<h+6,q.pending_buf_size=q.lit_bufsize*4,q.pending_buf=new Uint8Array(q.pending_buf_size),q.sym_buf=q.lit_bufsize,q.sym_end=(q.lit_bufsize-1)*3,q.level=p,q.strategy=B,q.method=o,_e(e)},x=(e,p)=>Ae(e,p,le,xe,ie,X),S=(e,p)=>{if(ce(e)||p>me||p<0)return e?ze(e,k):k;const o=e.state;if(!e.output||e.avail_in!==0&&!e.input||o.status===ge&&p!==Q)return ze(e,e.avail_out===0?de:k);const u=o.last_flush;if(o.last_flush=p,o.pending!==0){if(Fe(e),e.avail_out===0)return o.last_flush=-1,T}else if(e.avail_in===0&&Ne(p)<=Ne(u)&&p!==Q)return ze(e,de);if(o.status===ge&&e.avail_in!==0)return ze(e,de);if(o.status===ye&&o.wrap===0&&(o.status=be),o.status===ye){let h=le+(o.w_bits-8<<4)<<8,B=-1;if(o.strategy>=w||o.level<2?B=0:o.level<6?B=1:o.level===6?B=2:B=3,h|=B<<6,o.strstart!==0&&(h|=we),h+=31-h%31,Oe(o,h),o.strstart!==0&&(Oe(o,e.adler>>>16),Oe(o,e.adler&65535)),e.adler=1,o.status=be,Fe(e),o.pending!==0)return o.last_flush=-1,T}if(o.status===re){if(e.adler=0,Z(o,31),Z(o,139),Z(o,8),o.gzhead)Z(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),Z(o,o.gzhead.time&255),Z(o,o.gzhead.time>>8&255),Z(o,o.gzhead.time>>16&255),Z(o,o.gzhead.time>>24&255),Z(o,o.level===9?2:o.strategy>=w||o.level<2?4:0),Z(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(Z(o,o.gzhead.extra.length&255),Z(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=g(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=se;else if(Z(o,0),Z(o,0),Z(o,0),Z(o,0),Z(o,0),Z(o,o.level===9?2:o.strategy>=w||o.level<2?4:0),Z(o,he),o.status=be,Fe(e),o.pending!==0)return o.last_flush=-1,T}if(o.status===se){if(o.gzhead.extra){let h=o.pending,B=(o.gzhead.extra.length&65535)-o.gzindex;for(;o.pending+B>o.pending_buf_size;){let q=o.pending_buf_size-o.pending;if(o.pending_buf.set(o.gzhead.extra.subarray(o.gzindex,o.gzindex+q),o.pending),o.pending=o.pending_buf_size,o.gzhead.hcrc&&o.pending>h&&(e.adler=g(e.adler,o.pending_buf,o.pending-h,h)),o.gzindex+=q,Fe(e),o.pending!==0)return o.last_flush=-1,T;h=0,B-=q}let ne=new Uint8Array(o.gzhead.extra);o.pending_buf.set(ne.subarray(o.gzindex,o.gzindex+B),o.pending),o.pending+=B,o.gzhead.hcrc&&o.pending>h&&(e.adler=g(e.adler,o.pending_buf,o.pending-h,h)),o.gzindex=0}o.status=Ce}if(o.status===Ce){if(o.gzhead.name){let h=o.pending,B;do{if(o.pending===o.pending_buf_size){if(o.gzhead.hcrc&&o.pending>h&&(e.adler=g(e.adler,o.pending_buf,o.pending-h,h)),Fe(e),o.pending!==0)return o.last_flush=-1,T;h=0}o.gzindex<o.gzhead.name.length?B=o.gzhead.name.charCodeAt(o.gzindex++)&255:B=0,Z(o,B)}while(B!==0);o.gzhead.hcrc&&o.pending>h&&(e.adler=g(e.adler,o.pending_buf,o.pending-h,h)),o.gzindex=0}o.status=Pe}if(o.status===Pe){if(o.gzhead.comment){let h=o.pending,B;do{if(o.pending===o.pending_buf_size){if(o.gzhead.hcrc&&o.pending>h&&(e.adler=g(e.adler,o.pending_buf,o.pending-h,h)),Fe(e),o.pending!==0)return o.last_flush=-1,T;h=0}o.gzindex<o.gzhead.comment.length?B=o.gzhead.comment.charCodeAt(o.gzindex++)&255:B=0,Z(o,B)}while(B!==0);o.gzhead.hcrc&&o.pending>h&&(e.adler=g(e.adler,o.pending_buf,o.pending-h,h))}o.status=ue}if(o.status===ue){if(o.gzhead.hcrc){if(o.pending+2>o.pending_buf_size&&(Fe(e),o.pending!==0))return o.last_flush=-1,T;Z(o,e.adler&255),Z(o,e.adler>>8&255),e.adler=0}if(o.status=be,Fe(e),o.pending!==0)return o.last_flush=-1,T}if(e.avail_in!==0||o.lookahead!==0||p!==z&&o.status!==ge){let h=o.level===0?F(o,p):o.strategy===w?ee(o,p):o.strategy===A?V(o,p):b[o.level].func(o,p);if((h===ke||h===Te)&&(o.status=ge),h===pe||h===ke)return e.avail_out===0&&(o.last_flush=-1),T;if(h===Ee&&(p===y?s(o):p!==me&&(i(o,0,0,!1),p===Y&&(De(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),Fe(e),e.avail_out===0))return o.last_flush=-1,T}return p!==Q?T:o.wrap<=0?G:(o.wrap===2?(Z(o,e.adler&255),Z(o,e.adler>>8&255),Z(o,e.adler>>16&255),Z(o,e.adler>>24&255),Z(o,e.total_in&255),Z(o,e.total_in>>8&255),Z(o,e.total_in>>16&255),Z(o,e.total_in>>24&255)):(Oe(o,e.adler>>>16),Oe(o,e.adler&65535)),Fe(e),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?T:G)},it=e=>{if(ce(e))return k;const p=e.state.status;return e.state=null,p===be?ze(e,H):T},Me=(e,p)=>{let o=p.length;if(ce(e))return k;const u=e.state,h=u.wrap;if(h===2||h===1&&u.status!==ye||u.lookahead)return k;if(h===1&&(e.adler=f(e.adler,p,o,0)),u.wrap=0,o>=u.w_size){h===0&&(De(u.head),u.strstart=0,u.block_start=0,u.insert=0);let He=new Uint8Array(u.w_size);He.set(p.subarray(o-u.w_size,o),0),p=He,o=u.w_size}const B=e.avail_in,ne=e.next_in,q=e.input;for(e.avail_in=o,e.next_in=0,e.input=p,a(u);u.lookahead>=C;){let He=u.strstart,Se=u.lookahead-(C-1);do u.ins_h=Le(u,u.ins_h,u.window[He+C-1]),u.prev[He&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=He,He++;while(--Se);u.strstart=He,u.lookahead=C-1,a(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=C-1,u.match_available=0,e.next_in=ne,e.input=q,e.avail_in=B,u.wrap=h,T};return Ve.deflateInit=x,Ve.deflateInit2=Ae,Ve.deflateReset=_e,Ve.deflateResetKeep=D,Ve.deflateSetHeader=N,Ve.deflate=S,Ve.deflateEnd=it,Ve.deflateSetDictionary=Me,Ve.deflateInfo="pako deflate (from Nodeca project)",Ve}var Et={},nn;function Dn(){if(nn)return Et;nn=1;const t=(i,v)=>Object.prototype.hasOwnProperty.call(i,v);return Et.assign=function(i){const v=Array.prototype.slice.call(arguments,1);for(;v.length;){const c=v.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(const s in c)t(c,s)&&(i[s]=c[s])}}return i},Et.flattenChunks=i=>{let v=0;for(let s=0,f=i.length;s<f;s++)v+=i[s].length;const c=new Uint8Array(v);for(let s=0,f=0,g=i.length;s<g;s++){let m=i[s];c.set(m,f),f+=m.length}return c},Et}var dt={},rn;function Ln(){if(rn)return dt;rn=1;let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}const i=new Uint8Array(256);for(let c=0;c<256;c++)i[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;i[254]=i[254]=1,dt.string2buf=c=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(c);let s,f,g,m,z,y=c.length,Y=0;for(m=0;m<y;m++)f=c.charCodeAt(m),(f&64512)===55296&&m+1<y&&(g=c.charCodeAt(m+1),(g&64512)===56320&&(f=65536+(f-55296<<10)+(g-56320),m++)),Y+=f<128?1:f<2048?2:f<65536?3:4;for(s=new Uint8Array(Y),z=0,m=0;z<Y;m++)f=c.charCodeAt(m),(f&64512)===55296&&m+1<y&&(g=c.charCodeAt(m+1),(g&64512)===56320&&(f=65536+(f-55296<<10)+(g-56320),m++)),f<128?s[z++]=f:f<2048?(s[z++]=192|f>>>6,s[z++]=128|f&63):f<65536?(s[z++]=224|f>>>12,s[z++]=128|f>>>6&63,s[z++]=128|f&63):(s[z++]=240|f>>>18,s[z++]=128|f>>>12&63,s[z++]=128|f>>>6&63,s[z++]=128|f&63);return s};const v=(c,s)=>{if(s<65534&&c.subarray&&t)return String.fromCharCode.apply(null,c.length===s?c:c.subarray(0,s));let f="";for(let g=0;g<s;g++)f+=String.fromCharCode(c[g]);return f};return dt.buf2string=(c,s)=>{const f=s||c.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(c.subarray(0,s));let g,m;const z=new Array(f*2);for(m=0,g=0;g<f;){let y=c[g++];if(y<128){z[m++]=y;continue}let Y=i[y];if(Y>4){z[m++]=65533,g+=Y-1;continue}for(y&=Y===2?31:Y===3?15:7;Y>1&&g<f;)y=y<<6|c[g++]&63,Y--;if(Y>1){z[m++]=65533;continue}y<65536?z[m++]=y:(y-=65536,z[m++]=55296|y>>10&1023,z[m++]=56320|y&1023)}return v(z,m)},dt.utf8border=(c,s)=>{s=s||c.length,s>c.length&&(s=c.length);let f=s-1;for(;f>=0&&(c[f]&192)===128;)f--;return f<0||f===0?s:f+i[c[f]]>s?f:s},dt}var Dt,an;function In(){if(an)return Dt;an=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Dt=t,Dt}var on;function jn(){if(on)return Je;on=1;const t=Zn(),i=Dn(),v=Ln(),c=Zt(),s=In(),f=Object.prototype.toString,{Z_NO_FLUSH:g,Z_SYNC_FLUSH:m,Z_FULL_FLUSH:z,Z_FINISH:y,Z_OK:Y,Z_STREAM_END:Q,Z_DEFAULT_COMPRESSION:me,Z_DEFAULT_STRATEGY:T,Z_DEFLATED:G}=nt();function k(L){this.options=i.assign({level:me,method:G,chunkSize:16384,windowBits:15,memLevel:8,strategy:T},L||{});let w=this.options;w.raw&&w.windowBits>0?w.windowBits=-w.windowBits:w.gzip&&w.windowBits>0&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let A=t.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(A!==Y)throw new Error(c[A]);if(w.header&&t.deflateSetHeader(this.strm,w.header),w.dictionary){let I;if(typeof w.dictionary=="string"?I=v.string2buf(w.dictionary):f.call(w.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(w.dictionary):I=w.dictionary,A=t.deflateSetDictionary(this.strm,I),A!==Y)throw new Error(c[A]);this._dict_set=!0}}k.prototype.push=function(L,w){const A=this.strm,I=this.options.chunkSize;let X,ae;if(this.ended)return!1;for(w===~~w?ae=w:ae=w===!0?y:g,typeof L=="string"?A.input=v.string2buf(L):f.call(L)==="[object ArrayBuffer]"?A.input=new Uint8Array(L):A.input=L,A.next_in=0,A.avail_in=A.input.length;;){if(A.avail_out===0&&(A.output=new Uint8Array(I),A.next_out=0,A.avail_out=I),(ae===m||ae===z)&&A.avail_out<=6){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(X=t.deflate(A,ae),X===Q)return A.next_out>0&&this.onData(A.output.subarray(0,A.next_out)),X=t.deflateEnd(this.strm),this.onEnd(X),this.ended=!0,X===Y;if(A.avail_out===0){this.onData(A.output);continue}if(ae>0&&A.next_out>0){this.onData(A.output.subarray(0,A.next_out)),A.avail_out=0;continue}if(A.avail_in===0)break}return!0},k.prototype.onData=function(L){this.chunks.push(L)},k.prototype.onEnd=function(L){L===Y&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function H(L,w){const A=new k(w);if(A.push(L,!0),A.err)throw A.msg||c[A.err];return A.result}function de(L,w){return w=w||{},w.raw=!0,H(L,w)}function J(L,w){return w=w||{},w.gzip=!0,H(L,w)}return Je.Deflate=k,Je.deflate=H,Je.deflateRaw=de,Je.gzip=J,Je.constants=nt(),Je}var et={},Ke={},Lt,ln;function Gn(){if(ln)return Lt;ln=1;const t=16209,i=16191;return Lt=function(c,s){let f,g,m,z,y,Y,Q,me,T,G,k,H,de,J,L,w,A,I,X,ae,le,ve,xe,ie;const oe=c.state;f=c.next_in,xe=c.input,g=f+(c.avail_in-5),m=c.next_out,ie=c.output,z=m-(s-c.avail_out),y=m+(c.avail_out-257),Y=oe.dmax,Q=oe.wsize,me=oe.whave,T=oe.wnext,G=oe.window,k=oe.hold,H=oe.bits,de=oe.lencode,J=oe.distcode,L=(1<<oe.lenbits)-1,w=(1<<oe.distbits)-1;e:do{H<15&&(k+=xe[f++]<<H,H+=8,k+=xe[f++]<<H,H+=8),A=de[k&L];t:for(;;){if(I=A>>>24,k>>>=I,H-=I,I=A>>>16&255,I===0)ie[m++]=A&65535;else if(I&16){X=A&65535,I&=15,I&&(H<I&&(k+=xe[f++]<<H,H+=8),X+=k&(1<<I)-1,k>>>=I,H-=I),H<15&&(k+=xe[f++]<<H,H+=8,k+=xe[f++]<<H,H+=8),A=J[k&w];n:for(;;){if(I=A>>>24,k>>>=I,H-=I,I=A>>>16&255,I&16){if(ae=A&65535,I&=15,H<I&&(k+=xe[f++]<<H,H+=8,H<I&&(k+=xe[f++]<<H,H+=8)),ae+=k&(1<<I)-1,ae>Y){c.msg="invalid distance too far back",oe.mode=t;break e}if(k>>>=I,H-=I,I=m-z,ae>I){if(I=ae-I,I>me&&oe.sane){c.msg="invalid distance too far back",oe.mode=t;break e}if(le=0,ve=G,T===0){if(le+=Q-I,I<X){X-=I;do ie[m++]=G[le++];while(--I);le=m-ae,ve=ie}}else if(T<I){if(le+=Q+T-I,I-=T,I<X){X-=I;do ie[m++]=G[le++];while(--I);if(le=0,T<X){I=T,X-=I;do ie[m++]=G[le++];while(--I);le=m-ae,ve=ie}}}else if(le+=T-I,I<X){X-=I;do ie[m++]=G[le++];while(--I);le=m-ae,ve=ie}for(;X>2;)ie[m++]=ve[le++],ie[m++]=ve[le++],ie[m++]=ve[le++],X-=3;X&&(ie[m++]=ve[le++],X>1&&(ie[m++]=ve[le++]))}else{le=m-ae;do ie[m++]=ie[le++],ie[m++]=ie[le++],ie[m++]=ie[le++],X-=3;while(X>2);X&&(ie[m++]=ie[le++],X>1&&(ie[m++]=ie[le++]))}}else if(I&64){c.msg="invalid distance code",oe.mode=t;break e}else{A=J[(A&65535)+(k&(1<<I)-1)];continue n}break}}else if(I&64)if(I&32){oe.mode=i;break e}else{c.msg="invalid literal/length code",oe.mode=t;break e}else{A=de[(A&65535)+(k&(1<<I)-1)];continue t}break}}while(f<g&&m<y);X=H>>3,f-=X,H-=X<<3,k&=(1<<H)-1,c.next_in=f,c.next_out=m,c.avail_in=f<g?5+(g-f):5-(f-g),c.avail_out=m<y?257+(y-m):257-(m-y),oe.hold=k,oe.bits=H},Lt}var It,sn;function qn(){if(sn)return It;sn=1;const t=15,i=852,v=592,c=0,s=1,f=2,g=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),m=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),z=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),y=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return It=(Q,me,T,G,k,H,de,J)=>{const L=J.bits;let w=0,A=0,I=0,X=0,ae=0,le=0,ve=0,xe=0,ie=0,oe=0,d,_,E,P,M,K=null,C;const W=new Uint16Array(t+1),te=new Uint16Array(t+1);let we=null,ye,re,se;for(w=0;w<=t;w++)W[w]=0;for(A=0;A<G;A++)W[me[T+A]]++;for(ae=L,X=t;X>=1&&W[X]===0;X--);if(ae>X&&(ae=X),X===0)return k[H++]=1<<24|64<<16|0,k[H++]=1<<24|64<<16|0,J.bits=1,0;for(I=1;I<X&&W[I]===0;I++);for(ae<I&&(ae=I),xe=1,w=1;w<=t;w++)if(xe<<=1,xe-=W[w],xe<0)return-1;if(xe>0&&(Q===c||X!==1))return-1;for(te[1]=0,w=1;w<t;w++)te[w+1]=te[w]+W[w];for(A=0;A<G;A++)me[T+A]!==0&&(de[te[me[T+A]]++]=A);if(Q===c?(K=we=de,C=20):Q===s?(K=g,we=m,C=257):(K=z,we=y,C=0),oe=0,A=0,w=I,M=H,le=ae,ve=0,E=-1,ie=1<<ae,P=ie-1,Q===s&&ie>i||Q===f&&ie>v)return 1;for(;;){ye=w-ve,de[A]+1<C?(re=0,se=de[A]):de[A]>=C?(re=we[de[A]-C],se=K[de[A]-C]):(re=96,se=0),d=1<<w-ve,_=1<<le,I=_;do _-=d,k[M+(oe>>ve)+_]=ye<<24|re<<16|se|0;while(_!==0);for(d=1<<w-1;oe&d;)d>>=1;if(d!==0?(oe&=d-1,oe+=d):oe=0,A++,--W[w]===0){if(w===X)break;w=me[T+de[A]]}if(w>ae&&(oe&P)!==E){for(ve===0&&(ve=ae),M+=I,le=w-ve,xe=1<<le;le+ve<X&&(xe-=W[le+ve],!(xe<=0));)le++,xe<<=1;if(ie+=1<<le,Q===s&&ie>i||Q===f&&ie>v)return 1;E=oe&P,k[E]=ae<<24|le<<16|M-H|0}}return oe!==0&&(k[M+oe]=w-ve<<24|64<<16|0),J.bits=ae,0},It}var fn;function Xn(){if(fn)return Ke;fn=1;const t=Mn(),i=Pn(),v=Gn(),c=qn(),s=0,f=1,g=2,{Z_FINISH:m,Z_BLOCK:z,Z_TREES:y,Z_OK:Y,Z_STREAM_END:Q,Z_NEED_DICT:me,Z_STREAM_ERROR:T,Z_DATA_ERROR:G,Z_MEM_ERROR:k,Z_BUF_ERROR:H,Z_DEFLATED:de}=nt(),J=16180,L=16181,w=16182,A=16183,I=16184,X=16185,ae=16186,le=16187,ve=16188,xe=16189,ie=16190,oe=16191,d=16192,_=16193,E=16194,P=16195,M=16196,K=16197,C=16198,W=16199,te=16200,we=16201,ye=16202,re=16203,se=16204,Ce=16205,Pe=16206,ue=16207,be=16208,ge=16209,pe=16210,Ee=16211,ke=852,Te=592,ze=15,Ne=l=>(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24);function De(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Re=l=>{if(!l)return 1;const b=l.state;return!b||b.strm!==l||b.mode<J||b.mode>Ee?1:0},Ue=l=>{if(Re(l))return T;const b=l.state;return l.total_in=l.total_out=b.total=0,l.msg="",b.wrap&&(l.adler=b.wrap&1),b.mode=J,b.last=0,b.havedict=0,b.flags=-1,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new Int32Array(ke),b.distcode=b.distdyn=new Int32Array(Te),b.sane=1,b.back=-1,Y},Le=l=>{if(Re(l))return T;const b=l.state;return b.wsize=0,b.whave=0,b.wnext=0,Ue(l)},Fe=(l,b)=>{let r;if(Re(l))return T;const R=l.state;return b<0?(r=0,b=-b):(r=(b>>4)+5,b<48&&(b&=15)),b&&(b<8||b>15)?T:(R.window!==null&&R.wbits!==b&&(R.window=null),R.wrap=r,R.wbits=b,Le(l))},fe=(l,b)=>{if(!l)return T;const r=new De;l.state=r,r.strm=l,r.window=null,r.mode=J;const R=Fe(l,b);return R!==Y&&(l.state=null),R},Z=l=>fe(l,ze);let Oe=!0,je,qe;const a=l=>{if(Oe){je=new Int32Array(512),qe=new Int32Array(32);let b=0;for(;b<144;)l.lens[b++]=8;for(;b<256;)l.lens[b++]=9;for(;b<280;)l.lens[b++]=7;for(;b<288;)l.lens[b++]=8;for(c(f,l.lens,0,288,je,0,l.work,{bits:9}),b=0;b<32;)l.lens[b++]=5;c(g,l.lens,0,32,qe,0,l.work,{bits:5}),Oe=!1}l.lencode=je,l.lenbits=9,l.distcode=qe,l.distbits=5},F=(l,b,r,R)=>{let ce;const D=l.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new Uint8Array(D.wsize)),R>=D.wsize?(D.window.set(b.subarray(r-D.wsize,r),0),D.wnext=0,D.whave=D.wsize):(ce=D.wsize-D.wnext,ce>R&&(ce=R),D.window.set(b.subarray(r-R,r-R+ce),D.wnext),R-=ce,R?(D.window.set(b.subarray(r-R,r),0),D.wnext=R,D.whave=D.wsize):(D.wnext+=ce,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=ce))),0},O=(l,b)=>{let r,R,ce,D,_e,N,Ae,x,S,it,Me,e,p,o,u=0,h,B,ne,q,He,Se,Ie,Ge;const Be=new Uint8Array(4);let Ye,Xe;const jt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Re(l)||!l.output||!l.input&&l.avail_in!==0)return T;r=l.state,r.mode===oe&&(r.mode=d),_e=l.next_out,ce=l.output,Ae=l.avail_out,D=l.next_in,R=l.input,N=l.avail_in,x=r.hold,S=r.bits,it=N,Me=Ae,Ge=Y;e:for(;;)switch(r.mode){case J:if(r.wrap===0){r.mode=d;break}for(;S<16;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(r.wrap&2&&x===35615){r.wbits===0&&(r.wbits=15),r.check=0,Be[0]=x&255,Be[1]=x>>>8&255,r.check=i(r.check,Be,2,0),x=0,S=0,r.mode=L;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((x&255)<<8)+(x>>8))%31){l.msg="incorrect header check",r.mode=ge;break}if((x&15)!==de){l.msg="unknown compression method",r.mode=ge;break}if(x>>>=4,S-=4,Ie=(x&15)+8,r.wbits===0&&(r.wbits=Ie),Ie>15||Ie>r.wbits){l.msg="invalid window size",r.mode=ge;break}r.dmax=1<<r.wbits,r.flags=0,l.adler=r.check=1,r.mode=x&512?xe:oe,x=0,S=0;break;case L:for(;S<16;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(r.flags=x,(r.flags&255)!==de){l.msg="unknown compression method",r.mode=ge;break}if(r.flags&57344){l.msg="unknown header flags set",r.mode=ge;break}r.head&&(r.head.text=x>>8&1),r.flags&512&&r.wrap&4&&(Be[0]=x&255,Be[1]=x>>>8&255,r.check=i(r.check,Be,2,0)),x=0,S=0,r.mode=w;case w:for(;S<32;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}r.head&&(r.head.time=x),r.flags&512&&r.wrap&4&&(Be[0]=x&255,Be[1]=x>>>8&255,Be[2]=x>>>16&255,Be[3]=x>>>24&255,r.check=i(r.check,Be,4,0)),x=0,S=0,r.mode=A;case A:for(;S<16;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}r.head&&(r.head.xflags=x&255,r.head.os=x>>8),r.flags&512&&r.wrap&4&&(Be[0]=x&255,Be[1]=x>>>8&255,r.check=i(r.check,Be,2,0)),x=0,S=0,r.mode=I;case I:if(r.flags&1024){for(;S<16;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}r.length=x,r.head&&(r.head.extra_len=x),r.flags&512&&r.wrap&4&&(Be[0]=x&255,Be[1]=x>>>8&255,r.check=i(r.check,Be,2,0)),x=0,S=0}else r.head&&(r.head.extra=null);r.mode=X;case X:if(r.flags&1024&&(e=r.length,e>N&&(e=N),e&&(r.head&&(Ie=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(R.subarray(D,D+e),Ie)),r.flags&512&&r.wrap&4&&(r.check=i(r.check,R,e,D)),N-=e,D+=e,r.length-=e),r.length))break e;r.length=0,r.mode=ae;case ae:if(r.flags&2048){if(N===0)break e;e=0;do Ie=R[D+e++],r.head&&Ie&&r.length<65536&&(r.head.name+=String.fromCharCode(Ie));while(Ie&&e<N);if(r.flags&512&&r.wrap&4&&(r.check=i(r.check,R,e,D)),N-=e,D+=e,Ie)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=le;case le:if(r.flags&4096){if(N===0)break e;e=0;do Ie=R[D+e++],r.head&&Ie&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ie));while(Ie&&e<N);if(r.flags&512&&r.wrap&4&&(r.check=i(r.check,R,e,D)),N-=e,D+=e,Ie)break e}else r.head&&(r.head.comment=null);r.mode=ve;case ve:if(r.flags&512){for(;S<16;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(r.wrap&4&&x!==(r.check&65535)){l.msg="header crc mismatch",r.mode=ge;break}x=0,S=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),l.adler=r.check=0,r.mode=oe;break;case xe:for(;S<32;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}l.adler=r.check=Ne(x),x=0,S=0,r.mode=ie;case ie:if(r.havedict===0)return l.next_out=_e,l.avail_out=Ae,l.next_in=D,l.avail_in=N,r.hold=x,r.bits=S,me;l.adler=r.check=1,r.mode=oe;case oe:if(b===z||b===y)break e;case d:if(r.last){x>>>=S&7,S-=S&7,r.mode=Pe;break}for(;S<3;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}switch(r.last=x&1,x>>>=1,S-=1,x&3){case 0:r.mode=_;break;case 1:if(a(r),r.mode=W,b===y){x>>>=2,S-=2;break e}break;case 2:r.mode=M;break;case 3:l.msg="invalid block type",r.mode=ge}x>>>=2,S-=2;break;case _:for(x>>>=S&7,S-=S&7;S<32;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if((x&65535)!==(x>>>16^65535)){l.msg="invalid stored block lengths",r.mode=ge;break}if(r.length=x&65535,x=0,S=0,r.mode=E,b===y)break e;case E:r.mode=P;case P:if(e=r.length,e){if(e>N&&(e=N),e>Ae&&(e=Ae),e===0)break e;ce.set(R.subarray(D,D+e),_e),N-=e,D+=e,Ae-=e,_e+=e,r.length-=e;break}r.mode=oe;break;case M:for(;S<14;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(r.nlen=(x&31)+257,x>>>=5,S-=5,r.ndist=(x&31)+1,x>>>=5,S-=5,r.ncode=(x&15)+4,x>>>=4,S-=4,r.nlen>286||r.ndist>30){l.msg="too many length or distance symbols",r.mode=ge;break}r.have=0,r.mode=K;case K:for(;r.have<r.ncode;){for(;S<3;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}r.lens[jt[r.have++]]=x&7,x>>>=3,S-=3}for(;r.have<19;)r.lens[jt[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Ye={bits:r.lenbits},Ge=c(s,r.lens,0,19,r.lencode,0,r.work,Ye),r.lenbits=Ye.bits,Ge){l.msg="invalid code lengths set",r.mode=ge;break}r.have=0,r.mode=C;case C:for(;r.have<r.nlen+r.ndist;){for(;u=r.lencode[x&(1<<r.lenbits)-1],h=u>>>24,B=u>>>16&255,ne=u&65535,!(h<=S);){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(ne<16)x>>>=h,S-=h,r.lens[r.have++]=ne;else{if(ne===16){for(Xe=h+2;S<Xe;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(x>>>=h,S-=h,r.have===0){l.msg="invalid bit length repeat",r.mode=ge;break}Ie=r.lens[r.have-1],e=3+(x&3),x>>>=2,S-=2}else if(ne===17){for(Xe=h+3;S<Xe;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}x>>>=h,S-=h,Ie=0,e=3+(x&7),x>>>=3,S-=3}else{for(Xe=h+7;S<Xe;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}x>>>=h,S-=h,Ie=0,e=11+(x&127),x>>>=7,S-=7}if(r.have+e>r.nlen+r.ndist){l.msg="invalid bit length repeat",r.mode=ge;break}for(;e--;)r.lens[r.have++]=Ie}}if(r.mode===ge)break;if(r.lens[256]===0){l.msg="invalid code -- missing end-of-block",r.mode=ge;break}if(r.lenbits=9,Ye={bits:r.lenbits},Ge=c(f,r.lens,0,r.nlen,r.lencode,0,r.work,Ye),r.lenbits=Ye.bits,Ge){l.msg="invalid literal/lengths set",r.mode=ge;break}if(r.distbits=6,r.distcode=r.distdyn,Ye={bits:r.distbits},Ge=c(g,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Ye),r.distbits=Ye.bits,Ge){l.msg="invalid distances set",r.mode=ge;break}if(r.mode=W,b===y)break e;case W:r.mode=te;case te:if(N>=6&&Ae>=258){l.next_out=_e,l.avail_out=Ae,l.next_in=D,l.avail_in=N,r.hold=x,r.bits=S,v(l,Me),_e=l.next_out,ce=l.output,Ae=l.avail_out,D=l.next_in,R=l.input,N=l.avail_in,x=r.hold,S=r.bits,r.mode===oe&&(r.back=-1);break}for(r.back=0;u=r.lencode[x&(1<<r.lenbits)-1],h=u>>>24,B=u>>>16&255,ne=u&65535,!(h<=S);){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(B&&!(B&240)){for(q=h,He=B,Se=ne;u=r.lencode[Se+((x&(1<<q+He)-1)>>q)],h=u>>>24,B=u>>>16&255,ne=u&65535,!(q+h<=S);){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}x>>>=q,S-=q,r.back+=q}if(x>>>=h,S-=h,r.back+=h,r.length=ne,B===0){r.mode=Ce;break}if(B&32){r.back=-1,r.mode=oe;break}if(B&64){l.msg="invalid literal/length code",r.mode=ge;break}r.extra=B&15,r.mode=we;case we:if(r.extra){for(Xe=r.extra;S<Xe;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}r.length+=x&(1<<r.extra)-1,x>>>=r.extra,S-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ye;case ye:for(;u=r.distcode[x&(1<<r.distbits)-1],h=u>>>24,B=u>>>16&255,ne=u&65535,!(h<=S);){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(!(B&240)){for(q=h,He=B,Se=ne;u=r.distcode[Se+((x&(1<<q+He)-1)>>q)],h=u>>>24,B=u>>>16&255,ne=u&65535,!(q+h<=S);){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}x>>>=q,S-=q,r.back+=q}if(x>>>=h,S-=h,r.back+=h,B&64){l.msg="invalid distance code",r.mode=ge;break}r.offset=ne,r.extra=B&15,r.mode=re;case re:if(r.extra){for(Xe=r.extra;S<Xe;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}r.offset+=x&(1<<r.extra)-1,x>>>=r.extra,S-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){l.msg="invalid distance too far back",r.mode=ge;break}r.mode=se;case se:if(Ae===0)break e;if(e=Me-Ae,r.offset>e){if(e=r.offset-e,e>r.whave&&r.sane){l.msg="invalid distance too far back",r.mode=ge;break}e>r.wnext?(e-=r.wnext,p=r.wsize-e):p=r.wnext-e,e>r.length&&(e=r.length),o=r.window}else o=ce,p=_e-r.offset,e=r.length;e>Ae&&(e=Ae),Ae-=e,r.length-=e;do ce[_e++]=o[p++];while(--e);r.length===0&&(r.mode=te);break;case Ce:if(Ae===0)break e;ce[_e++]=r.length,Ae--,r.mode=te;break;case Pe:if(r.wrap){for(;S<32;){if(N===0)break e;N--,x|=R[D++]<<S,S+=8}if(Me-=Ae,l.total_out+=Me,r.total+=Me,r.wrap&4&&Me&&(l.adler=r.check=r.flags?i(r.check,ce,Me,_e-Me):t(r.check,ce,Me,_e-Me)),Me=Ae,r.wrap&4&&(r.flags?x:Ne(x))!==r.check){l.msg="incorrect data check",r.mode=ge;break}x=0,S=0}r.mode=ue;case ue:if(r.wrap&&r.flags){for(;S<32;){if(N===0)break e;N--,x+=R[D++]<<S,S+=8}if(r.wrap&4&&x!==(r.total&4294967295)){l.msg="incorrect length check",r.mode=ge;break}x=0,S=0}r.mode=be;case be:Ge=Q;break e;case ge:Ge=G;break e;case pe:return k;case Ee:default:return T}return l.next_out=_e,l.avail_out=Ae,l.next_in=D,l.avail_in=N,r.hold=x,r.bits=S,(r.wsize||Me!==l.avail_out&&r.mode<ge&&(r.mode<Pe||b!==m))&&F(l,l.output,l.next_out,Me-l.avail_out),it-=l.avail_in,Me-=l.avail_out,l.total_in+=it,l.total_out+=Me,r.total+=Me,r.wrap&4&&Me&&(l.adler=r.check=r.flags?i(r.check,ce,Me,l.next_out-Me):t(r.check,ce,Me,l.next_out-Me)),l.data_type=r.bits+(r.last?64:0)+(r.mode===oe?128:0)+(r.mode===W||r.mode===E?256:0),(it===0&&Me===0||b===m)&&Ge===Y&&(Ge=H),Ge},U=l=>{if(Re(l))return T;let b=l.state;return b.window&&(b.window=null),l.state=null,Y},V=(l,b)=>{if(Re(l))return T;const r=l.state;return r.wrap&2?(r.head=b,b.done=!1,Y):T},ee=(l,b)=>{const r=b.length;let R,ce,D;return Re(l)||(R=l.state,R.wrap!==0&&R.mode!==ie)?T:R.mode===ie&&(ce=1,ce=t(ce,b,r,0),ce!==R.check)?G:(D=F(l,b,r,r),D?(R.mode=pe,k):(R.havedict=1,Y))};return Ke.inflateReset=Le,Ke.inflateReset2=Fe,Ke.inflateResetKeep=Ue,Ke.inflateInit=Z,Ke.inflateInit2=fe,Ke.inflate=O,Ke.inflateEnd=U,Ke.inflateGetHeader=V,Ke.inflateSetDictionary=ee,Ke.inflateInfo="pako inflate (from Nodeca project)",Ke}var kt,cn;function Yn(){if(cn)return kt;cn=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return kt=t,kt}var dn;function Kn(){if(dn)return et;dn=1;const t=Xn(),i=Dn(),v=Ln(),c=Zt(),s=In(),f=Yn(),g=Object.prototype.toString,{Z_NO_FLUSH:m,Z_FINISH:z,Z_OK:y,Z_STREAM_END:Y,Z_NEED_DICT:Q,Z_STREAM_ERROR:me,Z_DATA_ERROR:T,Z_MEM_ERROR:G}=nt();function k(J){this.options=i.assign({chunkSize:1024*64,windowBits:15,to:""},J||{});const L=this.options;L.raw&&L.windowBits>=0&&L.windowBits<16&&(L.windowBits=-L.windowBits,L.windowBits===0&&(L.windowBits=-15)),L.windowBits>=0&&L.windowBits<16&&!(J&&J.windowBits)&&(L.windowBits+=32),L.windowBits>15&&L.windowBits<48&&(L.windowBits&15||(L.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let w=t.inflateInit2(this.strm,L.windowBits);if(w!==y)throw new Error(c[w]);if(this.header=new f,t.inflateGetHeader(this.strm,this.header),L.dictionary&&(typeof L.dictionary=="string"?L.dictionary=v.string2buf(L.dictionary):g.call(L.dictionary)==="[object ArrayBuffer]"&&(L.dictionary=new Uint8Array(L.dictionary)),L.raw&&(w=t.inflateSetDictionary(this.strm,L.dictionary),w!==y)))throw new Error(c[w])}k.prototype.push=function(J,L){const w=this.strm,A=this.options.chunkSize,I=this.options.dictionary;let X,ae,le;if(this.ended)return!1;for(L===~~L?ae=L:ae=L===!0?z:m,g.call(J)==="[object ArrayBuffer]"?w.input=new Uint8Array(J):w.input=J,w.next_in=0,w.avail_in=w.input.length;;){for(w.avail_out===0&&(w.output=new Uint8Array(A),w.next_out=0,w.avail_out=A),X=t.inflate(w,ae),X===Q&&I&&(X=t.inflateSetDictionary(w,I),X===y?X=t.inflate(w,ae):X===T&&(X=Q));w.avail_in>0&&X===Y&&w.state.wrap>0&&J[w.next_in]!==0;)t.inflateReset(w),X=t.inflate(w,ae);switch(X){case me:case T:case Q:case G:return this.onEnd(X),this.ended=!0,!1}if(le=w.avail_out,w.next_out&&(w.avail_out===0||X===Y))if(this.options.to==="string"){let ve=v.utf8border(w.output,w.next_out),xe=w.next_out-ve,ie=v.buf2string(w.output,ve);w.next_out=xe,w.avail_out=A-xe,xe&&w.output.set(w.output.subarray(ve,ve+xe),0),this.onData(ie)}else this.onData(w.output.length===w.next_out?w.output:w.output.subarray(0,w.next_out));if(!(X===y&&le===0)){if(X===Y)return X=t.inflateEnd(this.strm),this.onEnd(X),this.ended=!0,!0;if(w.avail_in===0)break}}return!0},k.prototype.onData=function(J){this.chunks.push(J)},k.prototype.onEnd=function(J){J===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=J,this.msg=this.strm.msg};function H(J,L){const w=new k(L);if(w.push(J),w.err)throw w.msg||c[w.err];return w.result}function de(J,L){return L=L||{},L.raw=!0,H(J,L)}return et.Inflate=k,et.inflate=H,et.inflateRaw=de,et.ungzip=H,et.constants=nt(),et}var un;function $n(){if(un)return We;un=1;const{Deflate:t,deflate:i,deflateRaw:v,gzip:c}=jn(),{Inflate:s,inflate:f,inflateRaw:g,ungzip:m}=Kn(),z=nt();return We.Deflate=t,We.deflate=i,We.deflateRaw=v,We.gzip=c,We.Inflate=s,We.inflate=f,We.inflateRaw=g,We.ungzip=m,We.constants=z,We}var hn;function Wn(){if(hn)return st;hn=1,Object.defineProperty(st,"__esModule",{value:!0}),st.decodeTileLayer=void 0;const t=Bn(),i=Un(),v=$n(),c=Rn(),s=On(),f=Ht(),g={[f.Encoding.BASE64]:t.toByteArray},m={[s.Compression.NONE]:y=>y,[s.Compression.ZLIB]:v.inflate,[s.Compression.GZIP]:v.ungzip,[s.Compression.ZSTD]:i.decompress};function z(y){var T;if((0,c.isUnencodedTileLayer)(y))return y;const Y=g[y.encoding],Q=m[y.compression??s.Compression.NONE],me=G=>Array.from(new Uint32Array(G.buffer,G.byteOffset));return{...y,compression:s.Compression.NONE,encoding:f.Encoding.CSV,data:y.data!=null?me(Q(Y(y.data))):void 0,chunks:(T=y.chunks)==null?void 0:T.map(G=>({...G,data:me(Q(Y(G.data)))}))}}return st.decodeTileLayer=z,st}var ut={},_n;function Vn(){if(_n)return ut;_n=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.DrawOrder=void 0;var t;return function(i){i.TOPDOWN="topdown",i.INDEX="index"}(t||(ut.DrawOrder=t={})),ut}var ht={},gn;function Jn(){if(gn)return ht;gn=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.MapOrientation=void 0;var t;return function(i){i.ORTHOGONAL="orthogonal",i.ISOMETRIC="isometric",i.STAGGERED="staggered",i.HEXAGONAL="hexagonal"}(t||(ht.MapOrientation=t={})),ht}var _t={},pn;function Qn(){if(pn)return _t;pn=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.MapRenderOrder=void 0;var t;return function(i){i.RIGHT_DOWN="right-down",i.RIGHT_UP="right-up",i.LEFT_DOWN="left-down",i.LEFT_UP="left-up"}(t||(_t.MapRenderOrder=t={})),_t}var gt={},mn;function ei(){if(mn)return gt;mn=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.StaggerAxis=void 0;var t;return function(i){i.X="x",i.Y="y"}(t||(gt.StaggerAxis=t={})),gt}var pt={},wn;function ti(){if(wn)return pt;wn=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.StaggerIndex=void 0;var t;return function(i){i.ODD="odd",i.EVEN="even"}(t||(pt.StaggerIndex=t={})),pt}var mt={},vn;function ni(){if(vn)return mt;vn=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PropertyType=void 0;var t;return function(i){i.STRING="string",i.INT="int",i.FLOAT="float",i.BOOL="bool",i.COLOR="color",i.FILE="file",i.OBJECT="object",i.CLASS="class"}(t||(mt.PropertyType=t={})),mt}var wt={},yn;function ii(){if(yn)return wt;yn=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.HorizontalAlign=void 0;var t;return function(i){i.CENTER="center",i.RIGHT="right",i.JUSTIFY="justify",i.LEFT="left"}(t||(wt.HorizontalAlign=t={})),wt}var vt={},bn;function ri(){if(bn)return vt;bn=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.VerticalAlign=void 0;var t;return function(i){i.CENTER="center",i.BOTTOM="bottom",i.TOP="top"}(t||(vt.VerticalAlign=t={})),vt}var tt={},xn;function ai(){if(xn)return tt;xn=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.isTilesetRef=tt.isEmbeddedTileset=void 0;function t(v){return v.source==null}tt.isEmbeddedTileset=t;function i(v){return v.source!=null}return tt.isTilesetRef=i,tt}var yt={},Sn;function oi(){if(Sn)return yt;Sn=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.FillMode=void 0;var t;return function(i){i.STRETCH="stretch",i.PRESERVE_ASPECT_FIT="preserve-aspect-fit"}(t||(yt.FillMode=t={})),yt}var bt={},En;function li(){if(En)return bt;En=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.ObjectAlignment=void 0;var t;return function(i){i.UNSPECIFIED="unspecified",i.TOPLEFT="topleft",i.TOP="top",i.TOPRIGHT="topright",i.LEFT="left",i.CENTER="center",i.RIGHT="right",i.BOTTOMLEFT="bottomleft",i.BOTTOM="bottom",i.BOTTOMRIGHT="bottomright"}(t||(bt.ObjectAlignment=t={})),bt}var xt={},Tn;function si(){if(Tn)return xt;Tn=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.TileRenderSize=void 0;var t;return function(i){i.TILE="tile",i.GRID="grid"}(t||(xt.TileRenderSize=t={})),xt}var St={},Fn;function fi(){if(Fn)return St;Fn=1,Object.defineProperty(St,"__esModule",{value:!0}),St.WangSetType=void 0;var t;return function(i){i.CORNER="corner",i.EDGE="edge",i.MIXED="mixed"}(t||(St.WangSetType=t={})),St}var Cn;function ci(){return Cn||(Cn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WangSetType=t.TileRenderSize=t.ObjectAlignment=t.FillMode=t.isTilesetRef=t.isEmbeddedTileset=t.VerticalAlign=t.HorizontalAlign=t.PropertyType=t.StaggerIndex=t.StaggerAxis=t.RenderOrder=t.MapOrientation=t.Encoding=t.DrawOrder=t.decodeTileLayer=t.Compression=t.isUnencodedTileLayer=t.isTileLayer=t.isObjectGroup=t.isImageLayer=t.isGroup=t.isEncodedTileLayer=t.GridOrientation=void 0;var i=Nn();Object.defineProperty(t,"GridOrientation",{enumerable:!0,get:function(){return i.GridOrientation}});var v=Rn();Object.defineProperty(t,"isEncodedTileLayer",{enumerable:!0,get:function(){return v.isEncodedTileLayer}}),Object.defineProperty(t,"isGroup",{enumerable:!0,get:function(){return v.isGroup}}),Object.defineProperty(t,"isImageLayer",{enumerable:!0,get:function(){return v.isImageLayer}}),Object.defineProperty(t,"isObjectGroup",{enumerable:!0,get:function(){return v.isObjectGroup}}),Object.defineProperty(t,"isTileLayer",{enumerable:!0,get:function(){return v.isTileLayer}}),Object.defineProperty(t,"isUnencodedTileLayer",{enumerable:!0,get:function(){return v.isUnencodedTileLayer}});var c=On();Object.defineProperty(t,"Compression",{enumerable:!0,get:function(){return c.Compression}});var s=Wn();Object.defineProperty(t,"decodeTileLayer",{enumerable:!0,get:function(){return s.decodeTileLayer}});var f=Vn();Object.defineProperty(t,"DrawOrder",{enumerable:!0,get:function(){return f.DrawOrder}});var g=Ht();Object.defineProperty(t,"Encoding",{enumerable:!0,get:function(){return g.Encoding}});var m=Jn();Object.defineProperty(t,"MapOrientation",{enumerable:!0,get:function(){return m.MapOrientation}});var z=Qn();Object.defineProperty(t,"RenderOrder",{enumerable:!0,get:function(){return z.MapRenderOrder}});var y=ei();Object.defineProperty(t,"StaggerAxis",{enumerable:!0,get:function(){return y.StaggerAxis}});var Y=ti();Object.defineProperty(t,"StaggerIndex",{enumerable:!0,get:function(){return Y.StaggerIndex}});var Q=ni();Object.defineProperty(t,"PropertyType",{enumerable:!0,get:function(){return Q.PropertyType}});var me=ii();Object.defineProperty(t,"HorizontalAlign",{enumerable:!0,get:function(){return me.HorizontalAlign}});var T=ri();Object.defineProperty(t,"VerticalAlign",{enumerable:!0,get:function(){return T.VerticalAlign}});var G=ai();Object.defineProperty(t,"isEmbeddedTileset",{enumerable:!0,get:function(){return G.isEmbeddedTileset}}),Object.defineProperty(t,"isTilesetRef",{enumerable:!0,get:function(){return G.isTilesetRef}});var k=oi();Object.defineProperty(t,"FillMode",{enumerable:!0,get:function(){return k.FillMode}});var H=li();Object.defineProperty(t,"ObjectAlignment",{enumerable:!0,get:function(){return H.ObjectAlignment}});var de=si();Object.defineProperty(t,"TileRenderSize",{enumerable:!0,get:function(){return de.TileRenderSize}});var J=fi();Object.defineProperty(t,"WangSetType",{enumerable:!0,get:function(){return J.WangSetType}})}(At)),At}var Nt=ci();const j=2;function di(){let t=null;function i(){let v="mainMenu",c="intro",s={width:0,height:0},f=!1;return{setScene:g=>v=g,getScene:()=>v,setMode:g=>c=g,getMode:()=>c,setMapDimensions:g=>s=g,getMapDimensions:()=>s,setShowModal:g=>f=g,getShowModal:()=>f}}return{getInstance(){return t||(t=i()),t}}}const $=di().getInstance();function ui(t,i){const v=t.make([t.sprite("player",{anim:"stillDown"}),t.area({shape:new t.Rect(t.vec2(0),10,10)}),t.body(),t.anchor("center"),t.pos(i),t.scale(j),t.z(15),t.timer(),{inventoryUI:null,speed:100,direction:"stillDown",isInDialogue:!1},"player"]);return v.onUpdate(()=>{if($.getMode()==="won"&&v.direction!=="stillDown"){v.play("stillDown"),v.direction="stillDown";return}if($.getShowModal()){switch(v.direction){case"left":v.play("stillLeft"),v.direction="stillLeft";break;case"right":v.play("stillRight"),v.direction="stillRight";break;case"up":v.play("stillUp"),v.direction="stillUp";break;case"down":v.play("stillDown"),v.direction="stillDown";break}return}}),hi(t,v),v}function hi(t,i){t.onKeyDown("left",()=>{$.getShowModal()!==!0&&(Tt(t,["up","down"])||(i.direction!=="left"&&(i.play("runLeft"),i.direction="left"),i.move(-i.speed,0)))}),t.onKeyDown("right",()=>{$.getShowModal()!==!0&&(Tt(t,["up","down"])||(i.direction!=="right"&&(i.play("runRight"),i.direction="right"),i.move(i.speed,0)))}),t.onKeyDown("up",()=>{$.getShowModal()!==!0&&(Tt(t,["left","right"])||(i.direction!=="up"&&(i.play("runUp"),i.direction="up"),i.move(0,-i.speed)))}),t.onKeyDown("down",()=>{$.getShowModal()!==!0&&(Tt(t,["left","right"])||(i.direction!=="down"&&(i.play("runDown"),i.direction="down"),i.move(0,i.speed)))}),t.onKeyRelease(()=>{if($.getShowModal()!==!0)switch(i.direction){case"left":i.play("stillLeft"),i.direction="stillLeft";break;case"right":i.play("stillRight"),i.direction="stillRight";break;case"up":i.play("stillUp"),i.direction="stillUp";break;case"down":i.play("stillDown"),i.direction="stillDown";break}})}function _i(t,i){return t.make([t.sprite("bobcat",{anim:"stillDown"}),t.area({shape:new t.Rect(t.vec2(0),10,10)}),t.body(),t.anchor("center"),t.pos(i),t.scale(j),t.z(15),t.timer(),"bob"])}function gi(t,i){const v=t.getSprite("star").data;let c=t.add([t.pos(i),t.particles({max:10,lifeTime:[1,2],speed:[100,50],acceleration:[t.vec2(0),t.vec2(0,-5)],damping:[0,1],opacities:[1,0],texture:v.tex,quads:v.frames,scales:[1.5]},{lifetime:2,rate:5,direction:0,spread:360})]);c.onEnd(()=>{t.destroy(c)}),c.emit(10)}const zn={milkAny:"some cow juice",milkRed:"some red cow juice",milkGreen:"some green cow juice",milkBlue:"some blue cow juice",eggAny:"an egg",eggRed:"a red egg",eggGreen:"a green egg",eggBlue:"a blue egg",mushroomAny:"a mushroom",mushroomRed:"a red mushroom",mushroomGreen:"a green mushroom",mushroomBlue:"a blue mushroom",colorRed:"any red item",colorGreen:"any green item",colorBlue:"any blue item"};function Bt(t){var i;return(i=t.inventoryUI)==null?void 0:i.properties}function pi(t,i){const v=i.inventoryUI;v&&t.destroy(v)}function Ct(t,i,v){const c=Bt(i),s=mi(c,v);Ut(c,s)||(pi(t,i),i.inventoryUI=i.add([t.sprite("ItemsNew",{anim:Ft(s)}),t.anchor("center"),t.pos(0,-20),{properties:{...s}}]),gi(t,t.vec2(i.pos.x-0*j,i.pos.y-20*j)),t.play("collect",{loop:!1,volume:1}))}function mi(t,i){return t?i.item==="color"?{...t,color:i.color}:i.color==="any"?{...t,item:i.item}:{...i}:{...i}}function wi(t,i,v){const c=Ft(v),s=t.make([t.sprite("ItemsNew",{anim:c}),t.area({shape:new t.Rect(t.vec2(0,3),16,16)}),t.anchor("center"),t.pos(i),t.scale(j),t.animate(),t.z(10),{properties:v},"collectable"]);return s.onCollide("player",f=>{Ct(t,f,s.properties)}),s.animate("pos",[i,t.vec2(i.x,i.y-10)],{duration:1,timing:[0,1/1,0],direction:"ping-pong",easing:t.easings.easeInOutCirc}),s}function Ft({item:t,color:i}){return`${t}${i.charAt(0).toUpperCase()+i.slice(1)}`}function Ut(t,i){return!t||!i?!1:(t.color==="any"||i.color==="any")&&t.item===i.item||(t.item==="color"||i.item==="color")&&t.color===i.color?!0:t.item===i.item&&t.color===i.color}function rt(t,i,v,c){$.setShowModal(!0);const s=t.add([t.layer("ui"),t.opacity(),t.pos(t.getCamPos()),t.anchor("center"),{isRemoving:!1},"modal"]);s.add([t.sprite("dialogBoxLarge"),t.scale(j),t.pos(),t.anchor("center")]),s.add([t.sprite("dialogCat",{anim:v}),t.scale(j),t.pos(-240,0),t.anchor("center")]),typeof i=="string"&&s.add([t.scale(j),t.text(i,{font:"monogram",size:14}),t.pos(-168,-12),t.anchor("topleft")]),typeof i=="object"&&i.forEach((f,g)=>{s.add([t.scale(j),t.text(f,{font:"monogram",size:14}),t.pos(-170,-20+g*20),t.anchor("topleft")])}),t.onKeyPress(["up","left","down","right","space","enter"],()=>{$.getShowModal()!==!1&&(s==null?void 0:s.isRemoving)!==!0&&vi(t,s,c)})}function vi(t,i,v){i.isRemoving=!0,t.tween(i.pos,t.vec2(i.pos.x,i.pos.y-t.height()),.5,c=>i.pos=c,t.easings.easeInSine).then(()=>{i.destroy(),$.setShowModal(!1),v&&v()})}const yi="closed";function bi(t,i,v,c={orientation:"horizontal",item:"egg",color:"green"}){const s=c.orientation==="horizontal"?t.sprite("gateHorizontal",{anim:"closed"}):t.sprite("gateVertical",{anim:"closed"}),f=c.orientation==="vertical"?{shape:new t.Polygon([t.vec2(0,0),t.vec2(20,0),t.vec2(20,64),t.vec2(0,64)]),offset:t.vec2(-18,-31)}:{},g=t.make([s,t.anchor("center"),t.pos(i),t.scale(j),t.area(f),t.timer(),t.body({isStatic:!0}),{status:yi,waitController:null,properties:c},"gate",v]);return g.onCollide("player",m=>{const z=Bt(m),y=zn[Ft({item:g.properties.item,color:g.properties.color})],Y=zn[Ft(z)],Q=[`You need ${y} to pass`,`and you have ${Y}.`];Ut(g.properties,z)||(t.play("closedGate",{loop:!1,volume:1}),rt(t,Q,"talk"))}),g.onCollideUpdate("player",async m=>{const z=Bt(m);Ut(g.properties,z)!==!1&&(g.waitController!==null&&(g.waitController.cancel(),g.waitController=null),g.status==="closed"&&(g.status="opening",g.play("opening"),t.play("openGate",{loop:!1,volume:1})))}),g.onUpdate(()=>{xi(g)}),g.onBeforePhysicsResolve(m=>{m.target.is(["player"])&&g.status==="open"&&m.preventResolution()}),g}function xi(t){t.status==="open"&&t.waitController===null&&Si(t,1),t.status==="opening"&&t.animFrame===4&&(t.status="open"),t.status==="closing"&&t.animFrame===4&&(t.status="closed")}function Si(t,i){t.waitController=t.wait(i,()=>{t.status==="open"&&(t.status="closing",t.play("closing"))})}function Ei(t,i){var f;const v=(f=i.properties)==null?void 0:f.find(g=>g.name==="dialogue"&&g.type==="string"),c=v?v.value:"Hmm, I am ment to collect something!",s=t.make([t.polygon(i.polygon.map(g=>t.vec2(g.x,g.y)),{triangulate:!0,fill:!1}),t.body({isStatic:!0}),t.area(),t.anchor("center"),t.pos(i.x*j,i.y*j),t.scale(j),{dialogue:c},"dialogueTrigger"]);return s.onCollide("player",async g=>{g.isInDialogue=!0,t.play("dialogueTrigger",{loop:!1,volume:1}),rt(t,s.dialogue,"talk")}),s}const An=["stillRightA","stillRightB","stillRightC"];function Ti(t,i){return t.make([t.sprite("Chickens",{anim:Fi()}),t.area({shape:new t.Rect(t.vec2(0),10,10)}),t.body(),t.anchor("center"),t.pos(i),t.scale(j),t.z(15),t.timer(),"chicken"])}function Fi(){return An[An.length*Math.random()|0]}function $e(t){t.width()/t.height()<1?t.setCamScale(t.vec2(1)):t.setCamScale(t.vec2(1.5))}function zt(t,i,v){let c=null;const s=v.tilesets.sort((f,g)=>g.firstgid-f.firstgid);return v.layers.forEach(f=>{Nt.isTileLayer(f)&&Ci(t,i,f,v.tileheight,v.tilewidth,s),Nt.isObjectGroup(f)&&(f.name==="FinishBoundary"&&Ai(t,i,f),f.name==="Boundaries"&&Oi(t,i,f),f.name==="DialogueTriggers"&&zi(t,i,f),f.name==="SpawnPoints"&&(c=Ri(t,i,f)))}),c}function Ci(t,i,v,c,s,f){let g=0;const m=t.vec2(0);Nt.isUnencodedTileLayer(v)&&v.data.forEach(z=>{if(g===0?(m.x=0,m.y=0):g%v.width===0?(m.x=0,m.y+=c*j):m.x+=s*j,g++,z>0){const y=f.find(Y=>z>=Y.firstgid);i.add([t.sprite(v.name,{frame:z-((y==null?void 0:y.firstgid)||0)}),t.pos(m),t.offscreen(),t.scale(j)])}})}function zi(t,i,v){v.objects.forEach(c=>{i.add(Ei(t,c))})}function Ai(t,i,v){v.objects.forEach(c=>{i.add([t.polygon(c.polygon.map(f=>t.vec2(f.x,f.y)),{triangulate:!0,fill:!1}),t.scale(j),t.body({isStatic:!0}),t.area(),t.pos(c.x*j,c.y*j),"finish"]).onCollide("player",f=>{$.setMode("won"),rt(t,"Hurray we completed the level!","happy",()=>$.setMode("finished"))})})}function Ri(t,i,v){const c={player:null};return v.objects.forEach(s=>{var f,g,m;if(s.type==="player"){const z=t.vec2((i.pos.x+s.x)*j,(i.pos.y+s.y)*j),y=ui(t,z);c.player=y,i.add(y)}if(s.type==="bobcat"){const z=t.vec2((i.pos.x+s.x)*j,(i.pos.y+s.y)*j),y=_i(t,z);i.add(y)}if(s.type==="chicken"){const z=t.vec2((i.pos.x+s.x)*j,(i.pos.y+s.y)*j),y=Ti(t,z);i.add(y)}if(s.type==="collectable"){const z=(f=s.properties)==null?void 0:f.filter(Q=>["item","color"].includes(Q.name)).reduce((Q,me)=>(Q[me.name]=me.value,Q),{}),y=t.vec2((i.pos.x+s.x)*j,(i.pos.y+s.y)*j),Y=wi(t,y,z);i.add(Y)}if(s.type==="gate"){const z=t.vec2((i.pos.x+s.x)*j,(i.pos.y+s.y)*j),y=(g=s.properties)==null?void 0:g.find(T=>T.name==="orientation"&&T.type==="string"),Y=y?y.value:"horizontal",Q=(m=s.properties)==null?void 0:m.filter(T=>["item","color"].includes(T.name)).reduce((T,G)=>(T[G.name]=G.value,T),{}),me=bi(t,z,s.name,{orientation:Y,...Q});i.add(me)}}),c}function Oi(t,i,v){v.objects.forEach(c=>{i.add([t.polygon(c.polygon.map(s=>t.vec2(s.x,s.y)),{triangulate:!0,fill:!1}),t.scale(j),t.body({isStatic:!0}),t.area(),t.pos(c.x*j,c.y*j),"boundary"])})}function Tt(t,i){for(const v of i)if(t.isKeyDown(v))return!0;return!1}async function Mi(){const t=await n.loadJSON("mainMenuMap","/maps/main_menu.map.json"),i={width:t.width*t.tilewidth*j,height:t.height*t.tileheight*j};n.setCamPos(i.width/2,i.height/2),$e(n),n.setBackground(n.Color.fromHex("#9bd4c3"));const v=n.add([n.pos(0)]);$.setMapDimensions(i),zt(n,v,t),n.add([n.scale(j),n.text("Moss and Bobs",{font:"arcadeclassic",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-65),n.anchor("center")]),n.add([n.scale(j),n.text("Picnic Puzzle",{font:"arcadeclassic",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos()),n.anchor("center")]),n.add([n.scale(j),n.text("Press SPACE to start",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+50),n.anchor("center")]),n.add([n.scale(j),n.text("Press C for credits",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+80),n.anchor("center")]),n.add([n.scale(j),n.text("Press H for help",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+110),n.anchor("center")]),n.onResize(()=>{$e(n)}),n.onKeyPress(["space"],()=>{const c=$.setScene("levelOne");n.go(c)}),n.onKeyPress(["c"],()=>{const c=$.setScene("credits");n.go(c)}),n.onKeyPress(["h"],()=>{const c=$.setScene("help");n.go(c)})}async function Pi(){const t=await n.loadJSON("levelOne","/maps/forest_level_1.map.json"),i={width:t.width*t.tilewidth*j,height:t.height*t.tileheight*j};$.setMapDimensions(i);const v=n.add([n.pos(0)]),c=n.play("music",{loop:!0,volume:.4}),s=zt(n,v,t);n.setCamPos(i.width/2,i.height/2),$e(n),$.setMode("intro"),rt(n,"Level one. This should be easy!","talk",()=>$.setMode("playing")),n.onResize(()=>{$e(n)});let f="";n.onUpdate(()=>{if(f!=="intro"&&$.getMode()==="intro"){f=$.getMode(),n.setCamPos(i.width/2,i.height/2),n.setCamScale(n.vec2(1.5));return}if(f==="intro"&&$.getMode()==="playing"){f=$.getMode(),Ct(n,s.player,{item:"egg",color:"green"});let z=s.player.worldPos().x,y=s.player.worldPos().y;z>=i.width/10*6?z=i.width/10*6:z<=i.width/10*4&&(z=i.width/10*4),y>=i.height/10*6?y=i.height/10*6:y<=i.height/10*4&&(y=i.height/10*4),n.tween(n.getCamPos(),n.vec2(z,y),1,Y=>n.setCamPos(Y)).then(()=>{$.setMode("playing")});return}if(f!=="won"&&$.getMode()==="won"&&(f=$.getMode(),c.stop(),n.play("win",{loop:!1,volume:1})),f!=="finished"&&$.getMode()==="finished"){f=$.getMode();const z=$.setScene("levelTwo");n.go(z);return}let g=s.player.worldPos().x,m=s.player.worldPos().y;g>=i.width/10*6?g=i.width/10*6:g<=i.width/10*4&&(g=i.width/10*4),m>=i.height/10*6?m=i.height/10*6:m<=i.height/10*4&&(m=i.height/10*4),n.setCamPos(g,m)})}async function Di(){const t=await n.loadJSON("levelTwo","/maps/forest_level_2.map.json"),i={width:t.width*t.tilewidth*j,height:t.height*t.tileheight*j};$.setMapDimensions(i);const v=n.add([n.pos(0)]),c=n.play("music",{loop:!0,volume:.4}),s=zt(n,v,t);n.setCamPos(i.width/2,i.height/2),$e(n),$.setMode("intro"),rt(n,"Level two. This looks harder!","talk",()=>$.setMode("playing")),n.onResize(()=>{$e(n)});let f="";n.onUpdate(()=>{if($.getMode()==="intro"){f=$.getMode(),n.setCamPos(i.width/2,i.height/2),n.setCamScale(n.vec2(1.5));return}if(f==="intro"&&$.getMode()==="playing"){f=$.getMode(),Ct(n,s.player,{item:"egg",color:"red"});let z=s.player.worldPos().x,y=s.player.worldPos().y;z>=i.width/10*6?z=i.width/10*6:z<=i.width/10*4&&(z=i.width/10*4),y>=i.height/10*6?y=i.height/10*6:y<=i.height/10*4&&(y=i.height/10*4),n.tween(n.getCamPos(),n.vec2(z,y),1,Y=>n.setCamPos(Y)).then(()=>{$.setMode("playing")});return}if(f!=="won"&&$.getMode()==="won"&&(f=$.getMode(),c.stop(),n.play("win",{loop:!1,volume:1})),f!=="finished"&&$.getMode()==="finished"){f=$.getMode();const z=$.setScene("levelThree");n.go(z);return}let g=s.player.worldPos().x,m=s.player.worldPos().y;g>=i.width/10*6?g=i.width/10*6:g<=i.width/10*4&&(g=i.width/10*4),m>=i.height/10*6?m=i.height/10*6:m<=i.height/10*4&&(m=i.height/10*4),n.setCamPos(g,m)})}async function Li(){const t=await n.loadJSON("levelThree","/maps/island_level_3.map.json"),i={width:t.width*t.tilewidth*j,height:t.height*t.tileheight*j};$.setMapDimensions(i);const v=n.add([n.pos(0)]),c=n.play("music",{loop:!0,volume:.4}),s=zt(n,v,t);n.setCamPos(i.width/2,i.height/2),$e(n),$.setMode("intro"),rt(n,"Level Three. Mind the water, it looks wet!","talk",()=>$.setMode("playing")),n.onResize(()=>{$e(n)});let f="";n.onUpdate(()=>{if($.getMode()==="intro"){f=$.getMode(),n.setCamPos(i.width/2,i.height/2),n.setCamScale(n.vec2(1.5));return}if(f==="intro"&&$.getMode()==="playing"){f=$.getMode(),Ct(n,s.player,{item:"egg",color:"red"});let z=s.player.worldPos().x,y=s.player.worldPos().y;z>=i.width/10*6?z=i.width/10*6:z<=i.width/10*4&&(z=i.width/10*4),y>=i.height/10*6?y=i.height/10*6:y<=i.height/10*4&&(y=i.height/10*4),n.tween(n.getCamPos(),n.vec2(z,y),1,Y=>n.setCamPos(Y)).then(()=>{$.setMode("playing")});return}if(f!=="won"&&$.getMode()==="won"&&(f=$.getMode(),c.stop(),n.play("win",{loop:!1,volume:1})),f!=="finished"&&$.getMode()==="finished"){f=$.getMode();const z=$.setScene("ending");n.go(z);return}let g=s.player.worldPos().x,m=s.player.worldPos().y;g>=i.width/10*6?g=i.width/10*6:g<=i.width/10*4&&(g=i.width/10*4),m>=i.height/10*6?m=i.height/10*6:m<=i.height/10*4&&(m=i.height/10*4),n.setCamPos(g,m)})}function Ii(){n.setBackground(n.Color.fromHex("#9bd4c3")),n.add([n.scale(j),n.text("Moss and Bobs",{font:"arcadeclassic",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-65),n.anchor("center")]),n.add([n.scale(j),n.text("Picnic Puzzle",{font:"arcadeclassic",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos()),n.anchor("center")]),n.add([n.text("You have completed all 3 levels. Well done!",{font:"monogram",size:48}),n.pos(n.center().x,n.center().y+80),n.anchor("center")]),n.add([n.scale(j),n.text("Press SPACE to return",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+150),n.anchor("center")]),n.onKeyPress("space",()=>{const t=$.setScene("mainMenu");n.go(t)})}async function ki(){const t=await n.loadJSON("mainMenuMap","/maps/main_menu.map.json"),i={width:t.width*t.tilewidth*j,height:t.height*t.tileheight*j};$.setMapDimensions(i),n.setCamPos(i.width/2,i.height/2),$e(n),n.setBackground(n.Color.fromHex("#e8b5ac")),n.add([n.scale(j),n.text("CODING",{font:"monogram",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-130),n.anchor("center")]),n.add([n.scale(j),n.text("Paul Cockrell (paulcockrell.github.io)",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-100),n.anchor("center")]),n.add([n.scale(j),n.text("GAME LIBRARY ",{font:"monogram",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-50),n.anchor("center")]),n.add([n.scale(j),n.text("Kaplay (kaplayjs.com) ",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-20),n.anchor("center")]),n.add([n.scale(j),n.text("ARTWORK",{font:"monogram",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+30),n.anchor("center")]),n.add([n.scale(j),n.text("Cupnooble (cupnooble.itch.io)",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+60),n.anchor("center")]),n.add([n.scale(j),n.text("MUSIC",{font:"monogram",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+110),n.anchor("center")]),n.add([n.scale(j),n.text("moodmode (pixabay.com) ",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+140),n.anchor("center")]),n.add([n.scale(j),n.text("Press SPACE to return",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+200),n.anchor("center")]),n.onResize(()=>{$e(n)}),n.onKeyPress(["space"],()=>{const v=$.setScene("mainMenu");n.go(v)})}async function Ni(){const t=await n.loadJSON("mainMenuMap","/maps/main_menu.map.json"),i={width:t.width*t.tilewidth*j,height:t.height*t.tileheight*j};$.setMapDimensions(i),n.setCamPos(i.width/2,i.height/2),$e(n),n.setBackground(n.Color.fromHex("#eae178")),n.add([n.scale(j),n.text("OBJECTIVE",{font:"monogram",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-160),n.anchor("center")]),n.add([n.scale(j),n.text("Help Moss find her way to the picnic party!",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-120),n.anchor("center")]),n.add([n.scale(j),n.text("Make your way through the maze",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-90),n.anchor("center")]),n.add([n.scale(j),n.text("collecting items along the way to",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-60),n.anchor("center")]),n.add([n.scale(j),n.text("unlock the gates.",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y-30),n.anchor("center")]),n.add([n.scale(j),n.text("Hurry, Bob is waiting with the yummy catfood!",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y),n.anchor("center")]),n.add([n.scale(j),n.text("CONTROLS",{font:"monogram",size:25}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+60),n.anchor("center")]),n.add([n.scale(j),n.text("Use arrow keys to move",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+100),n.anchor("center")]),n.add([n.scale(j),n.text("Press SPACE to go back to main menu",{font:"monogram",size:20}),n.color(n.Color.fromHex("#FFFFFF")),n.pos(n.getCamPos().x,n.getCamPos().y+180),n.anchor("center")]),n.onResize(()=>{$e(n)}),n.onKeyPress(["space"],()=>{const v=$.setScene("mainMenu");n.go(v)})}n.loadRoot("./");n.setLayers(["game","mask","ui"],"game");n.setBackground(n.Color.fromHex("#9bd4c3"));n.loadFont("arcadeclassic","/fonts/ka1.ttf");n.loadSound("music","/sfx/retro-game-arcade-236133.mp3");n.loadSound("collect","/sfx/collect.mp3");n.loadSound("closedGate","/sfx/closed-gate.mp3");n.loadSound("openGate","/sfx/open-gate.mp3");n.loadSound("dialogueTrigger","/sfx/dialogue-trigger.mp3");n.loadSound("win","/sfx/win.mp3");n.loadSprite("star","/maps/StarFull.png");n.loadSprite("Soil","/maps/Soil_Ground_Tiles.png",{sliceX:11,sliceY:7});n.loadSprite("Grass","/maps/Grass_Tile_Layers.png",{sliceX:11,sliceY:7});n.loadSprite("Dark grass","/maps/Darker_Grass_Tile_Layers.png",{sliceX:11,sliceY:7});n.loadSprite("Flowers","/maps/Mushrooms_Flowers_Tiles.png",{sliceX:12,sliceY:5});n.loadSprite("Bushes","/maps/Bush_Tiles.png",{sliceX:11,sliceY:11});n.loadSprite("Trees","/maps/Trees_Stumps_Bushes.png",{sliceX:12,sliceY:7});n.loadSprite("Fences","/maps/Fences.png",{sliceX:8,sliceY:4});n.loadSprite("Bridges","/maps/Wooden_Bridge_v2.png",{sliceX:4,sliceY:3});n.loadSprite("Water","/maps/Water.png",{sliceX:4,sliceY:1});n.loadSprite("Chickens","/maps/Chicken_Baby.png",{sliceX:8,sliceY:19,anims:{stillRightA:{from:0,to:3,loop:!0,speed:.7},stillRightB:{from:8,to:14,loop:!0,speed:1.8},stillRightC:{from:64,to:67,loop:!0}}});n.loadSpriteAtlas("/maps/Fence_Gates.png",{gateHorizontal:{x:0,y:0,width:320,height:16,sliceX:5,anims:{opening:{from:0,to:4,loop:!1},closing:{from:4,to:0,loop:!1},open:4,closed:0}},gateVertical:{x:0,y:16,width:160,height:64,sliceX:5,anims:{opening:{from:0,to:4,loop:!1},closing:{from:4,to:0,loop:!1},open:4,closed:0}}});n.loadSprite("SignsNew","/maps/SignsNew.png",{sliceX:4,sliceY:4});n.loadSprite("SignsShapes","/maps/SignsShapes.png",{sliceX:4,sliceY:4});n.loadSprite("InventoryBlocks","/maps/InventoryBlocks.png",{sliceX:3,sliceY:3,anims:{lightLarge:7}});n.loadSprite("ItemShadows","/maps/ItemShadow.png",{sliceX:1,sliceY:1});n.loadSprite("ItemsBasket","/maps/Items.png",{sliceX:8,sliceY:15,anims:{a:0,b:8,c:16,d:24,e:32,f:40,g:48,h:56,i:64,j:72,k:80,l:88,m:96,n:104,o:112}});n.loadSprite("ItemsNew","/maps/ItemsNew.png",{sliceX:4,sliceY:4,anims:{milkAny:0,milkRed:1,milkGreen:2,milkBlue:3,eggAny:4,eggRed:5,eggGreen:6,eggBlue:7,mushroomAny:8,mushroomRed:9,mushroomGreen:10,mushroomBlue:11,colorRed:13,colorGreen:14,colorBlue:15}});n.loadSprite("player","/maps/Cat_Basic_Spritesheet.png",{sliceX:4,sliceY:4,anims:{stillDown:{from:0,to:1,loop:!0},runDown:{from:2,to:3,loop:!0},stillUp:{from:4,to:5,loop:!0},runUp:{from:6,to:7,loop:!0},stillLeft:{from:8,to:9,loop:!0},runLeft:{from:10,to:11,loop:!0},stillRight:{from:12,to:13,loop:!0},runRight:{from:14,to:15,loop:!0}}});n.loadSprite("bobcat","/maps/BobCatBasicSpritesheet.png",{sliceX:4,sliceY:4,anims:{stillDown:{from:0,to:1,loop:!0},runDown:{from:2,to:3,loop:!0},stillUp:{from:4,to:5,loop:!0},runUp:{from:6,to:7,loop:!0},stillLeft:{from:8,to:9,loop:!0},runLeft:{from:10,to:11,loop:!0},stillRight:{from:12,to:13,loop:!0},runRight:{from:14,to:15,loop:!0}}});n.loadSprite("PicnicBasket","/maps/PicnicBasket.png");n.loadSprite("PicnicBlanket","/maps/PicnicBlanket.png",{sliceX:3,sliceY:3});n.loadSprite("dialogBoxLarge","/maps/DialogBoxLarge.png");n.loadSprite("dialogCat","/maps/DialogCat.png",{sliceX:5,sliceY:15,anims:{talk:{from:5,to:6,loop:!0,speed:5},happy:{from:35,to:36,loop:!0,speed:5}}});n.loadSprite("playButtonsLarge","/maps/PlayButtonsLarge.png",{sliceX:2,sliceY:2,anims:{buttonDepressed:0,buttonPressed:1}});n.scene("mainMenu",Mi);n.scene("levelOne",Pi);n.scene("levelTwo",Di);n.scene("levelThree",Li);n.scene("ending",Ii);n.scene("credits",ki);n.scene("help",Ni);const Bi=$.getScene();n.go(Bi);
